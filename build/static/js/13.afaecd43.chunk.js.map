{"version":3,"sources":["constants/timespan.constant.ts","components/charts/pie-chart/pie-chart.component.tsx","services/chart.api.service.ts","actions/chart.actions.ts","components/charts/chart-tooltip/chart-tooltip.component.tsx","components/charts/area-chart/area-chart.component.tsx","../node_modules/@axetroy/react-download/index.js","../node_modules/@axetroy/react-download/lib/react-download.js","components/charts/chart-actions/chart-actions.component.tsx","components/charts/timespan/timespan.component.tsx","pages/chart/chart.component.tsx"],"names":["TIMESPAN","COLORS","PieChartComponent","state","activeIndex","renderActiveShape","props","RADIAN","Math","PI","cx","cy","midAngle","innerRadius","outerRadius","startAngle","endAngle","fill","payload","percent","value","sin","cos","sx","sy","mx","my","ex","ey","textAnchor","x","y","dy","name","d","stroke","r","toFixed","onPieEnter","data","index","setState","this","map","item","sort","a","b","className","activeShape","dataKey","onMouseEnter","entry","length","labels","React","PureComponent","ChartApiService","chartType","options","timespan","axios","get","environment","apiUrl","params","DAYS_30","then","response","Promise","reject","ChartActions","getChart","dispatch","type","GET_CHART","GET_CHART_SUCCESS","ChartTooltipComponent","date","dayjs","label","format","transformValue","isScale","originalValue","convertInfoItemValue","VERY_SMALL_NUMBER","AreaChartComponent","formatLabel","bind","formatXLabel","formatTooltip","renderTooltip","max","ceil","apply","maxDomain","pow","toString","width","height","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","compact","vertical","strokeDasharray","tick","fontSize","tickLine","tickCount","tickMargin","tickFormatter","minTickGap","hide","domain","scale","content","yAxisId","fillOpacity","animationDuration","isAnimationActive","formatNumberMetricPrefix","fractionDigits","module","exports","require","factory","self","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","getter","o","Object","defineProperty","configurable","enumerable","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_createClass","defineProperties","target","descriptor","writable","key","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_propTypes2","obj","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","ReferenceError","Download","_Component","__proto__","getPrototypeOf","arguments","subClass","superClass","create","constructor","setPrototypeOf","_inherits","fileName","fileContent","urlObject","window","URL","webkitURL","export_blob","Blob","navigator","msSaveBlob","HTMLAnchorElement","Error","save_link","document","createElementNS","href","createObjectURL","download","ev","createEvent","initMouseEvent","dispatchEvent","fake_click","export_raw","_this2","_props","children","file","style","createElement","onClick","downloadFile","Component","propTypes","string","isRequired","ChartActionsComponent","to","getChartActionUrl","getCSVData","JSON","stringify","timestamp","join","TimespanComponent","keys","span","btnClassNames","classNames","selected","getTimespanUrl","Chart","getParams","match","queryString","parse","location","search","iframe","chartClassNames","classnames","title","renderBody","renderChart","renderControls","formatData","slice","history","validTimespan","find","pathname","param","ChartComponent","connect","chart","bindActionCreators"],"mappings":"mIAAO,IAAKA,EAAZ,kC,SAAYA,K,iBAAAA,E,mBAAAA,E,eAAAA,E,iBAAAA,M,4KCWNC,EAAS,CACb,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGWC,EAAb,4MACEC,MAAQ,CACNC,YAAa,GAFjB,EAgEEC,kBAAoB,SAACC,GACnB,IAAMC,EAASC,KAAKC,GAAK,IAEvBC,EAWEJ,EAXFI,GACAC,EAUEL,EAVFK,GACAC,EASEN,EATFM,SACAC,EAQEP,EARFO,YACAC,EAOER,EAPFQ,YACAC,EAMET,EANFS,WACAC,EAKEV,EALFU,SACAC,EAIEX,EAJFW,KACAC,EAGEZ,EAHFY,QACAC,EAEEb,EAFFa,QACAC,EACEd,EADFc,MAEIC,EAAMb,KAAKa,KAAKd,EAASK,GACzBU,EAAMd,KAAKc,KAAKf,EAASK,GACzBW,EAAKb,GAAMI,EAAc,IAAMQ,EAC/BE,EAAKb,GAAMG,EAAc,IAAMO,EAC/BI,EAAKf,GAAMI,EAAc,IAAMQ,EAC/BI,EAAKf,GAAMG,EAAc,IAAMO,EAC/BM,EAAKF,EAA2B,IAArBH,GAAO,EAAI,GAAK,GAC3BM,EAAKF,EACLG,EAAaP,GAAO,EAAI,QAAU,MAExC,OACE,8BACE,sBAAMQ,EAAGpB,EAAIqB,EAAGpB,EAAIqB,GAAI,EAAGH,WAAW,SAASZ,KAAMA,EAArD,SACGC,EAAQe,OAEX,cAAC,IAAD,CACEvB,GAAIA,EACJC,GAAIA,EACJE,YAAaA,EACbC,YAAaA,EACbC,WAAYA,EACZC,SAAUA,EACVC,KAAMA,IAER,cAAC,IAAD,CACEP,GAAIA,EACJC,GAAIA,EACJI,WAAYA,EACZC,SAAUA,EACVH,YAAaC,EAAc,EAC3BA,YAAaA,EAAc,GAC3BG,KAAMA,IAER,sBACEiB,EAAC,WAAMX,EAAN,YAAYC,EAAZ,YAAkBC,EAAlB,YAAwBC,EAAxB,YAA8BC,EAA9B,YAAoCC,GACrCO,OAAQlB,EACRA,KAAK,SAEP,wBAAQP,GAAIiB,EAAIhB,GAAIiB,EAAIQ,EAAG,EAAGnB,KAAMA,EAAMkB,OAAO,SACjD,sBACEL,EAAGH,EAA2B,IAArBL,GAAO,EAAI,GAAK,GACzBS,EAAGH,EACHC,WAAYA,EACZZ,KAAK,OAJP,2BAKaG,KACb,sBACEU,EAAGH,EAA2B,IAArBL,GAAO,EAAI,GAAK,GACzBS,EAAGH,EACHI,GAAI,GACJH,WAAYA,EACZZ,KAAK,OALP,2BAOwB,IAAVE,GAAekB,QAAQ,GAPrC,YA5HR,EAyIEC,WAAa,SAACC,EAAWC,GACvB,EAAKC,SAAS,CACZrC,YAAaoC,KA3InB,4CAKE,WAAuB,IAAD,OACdD,EAAOG,KAAKpC,MAAMiC,KACrBI,KAAI,SAACC,GAAD,MAAgB,CACnBX,KAAMW,EAAKX,KACXb,MAAOwB,EAAKxB,UAEbyB,MAAK,SAACC,EAAQC,GAAT,OAAoBA,EAAEhB,EAAIe,EAAEf,KAEpC,OACE,sBAAKiB,UAAU,eAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACE5C,YAAasC,KAAKvC,MAAMC,YACxB6C,YAAaP,KAAKrC,kBAClBkC,KAAMA,EACN1B,YAAa,IACbC,YAAa,IACbG,KAAK,UACLiC,QAAQ,QACRC,aAAcT,KAAKJ,WARrB,SAUGC,EAAKI,KAAI,SAACS,EAAYZ,GAAb,OACR,cAAC,IAAD,CAEEvB,KAAMhB,EAAOuC,EAAQvC,EAAOoD,SAF9B,eACeD,EAAMhC,mBAS/B,sBAAK4B,UAAU,oDAAf,UACE,sBAAKA,UAAU,4DAAf,UACE,qBAAKA,UAAU,oCAAf,SACGN,KAAKpC,MAAMgD,OAAOrB,OAErB,qBAAKe,UAAU,oCAAf,SACGN,KAAKpC,MAAMgD,OAAOlC,WAItBsB,KAAKpC,MAAMiC,KAAKI,KAAI,SAACC,EAAWJ,GAAZ,OACnB,sBAAKQ,UAAU,kCAAf,UACE,sBAAKA,UAAU,oCAAf,UACE,+BAAO,EAAK1C,MAAMgD,OAAOrB,OAD3B,IACyCW,EAAKX,QAE9C,sBAAKe,UAAU,oCAAf,UACE,+BAAO,EAAK1C,MAAMgD,OAAOlC,QAD3B,IAC0CwB,EAAKxB,WALKoB,gBAlDlE,GAAuCe,IAAMC,gB,uJCvBhCC,EAAb,6FACE,SAAgBC,GAAqD,IAAlCC,EAAiC,uDAAT,GAKnDC,EAAWD,EAAQC,SAEzB,OAAOC,IACJC,IADI,UACGC,IAAYC,OADf,mBACgCN,GAAa,CAChDO,OAAQ,CACNL,SAAUA,GAAY5D,IAASkE,WAGlCC,MAAK,SAACC,GACL,OAAKA,EAMEA,EAAS7B,KALP8B,QAAQC,OAAR,sCAC0BP,IAAYC,OADtC,mBACuDN,EADvD,aAhBjB,KCMaa,EAA6B,CACxCC,SADwC,SAC/Bd,GAAqD,IAAlCC,EAAiC,uDAAT,GAClD,OAAO,SAACc,GAKN,OAJAA,EAAS,CACPC,KAAMC,MAGDlB,EAAgBe,SAASd,EAAWC,GAASQ,MAAK,SAAC5B,GACxDkC,EAAS,CACPvD,QAAS,CACPqB,QAEFmC,KAAME,a,iMCdHC,EAAb,4JACE,WACE,IAAMC,EAAOC,IAAMrC,KAAKpC,MAAM0E,OAAOC,OAAO,cAExC7D,EAAQ,KACNF,EAAUwB,KAAKpC,MAAMY,QAAUwB,KAAKpC,MAAMY,QAAQ,GAAK,KAE7D,GAAIA,EAAS,CACX,IAAMwD,EAAOxD,EAAQA,QAAQwD,MAAQ,QAC/BQ,EAAiBxC,KAAKpC,MAAM6E,QAC9BjE,EAAQA,QAAQkE,cAChB1C,KAAKpC,MAAMY,QAAQ,GAAGE,MAE1BA,EAAQiE,YAAqBX,EAAMQ,GAGrC,OACE,sBAAKlC,UAAU,mBAAf,UACE,qBAAKA,UAAU,0BAAf,SAA0C8B,IACzC1D,SAnBT,GAA2CmC,IAAMC,eCY3C8B,EAAoB,KAEbC,EAAb,kDACE,WAAYjF,GAAa,IAAD,8BACtB,cAAMA,IAEDkF,YAAc,EAAKA,YAAYC,KAAjB,gBACnB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBACpB,EAAKE,cAAgB,EAAKA,cAAcF,KAAnB,gBACrB,EAAKG,cAAgB,EAAKA,cAAcH,KAAnB,gBANC,EAD1B,0CAUE,WACE,IAAIlD,EAAOG,KAAKpC,MAAMiC,KAEhBsD,EAAMrF,KAAKsF,KACftF,KAAKqF,IAAIE,MACP,KACAxD,EAAKI,KAAI,SAACC,GAAD,OAAeA,EAAKxB,WAI3B4E,GACHxF,KAAKsF,KAAKD,EAAMrF,KAAKyF,IAAI,GAAIJ,EAAIK,WAAW7C,OAAS,IAAM,GAC5D7C,KAAKyF,IAAI,GAAIJ,EAAIK,WAAW7C,OAAS,GAavC,OAVIX,KAAKpC,MAAM6E,UACb5C,EAAOA,EAAKI,KAAI,SAACC,GACf,OAAO,2BACFA,GADL,IAEEwC,cAAexC,EAAKxB,MACpBA,MAAOwB,EAAKxB,OAAS,EAAIkE,EAAoB1C,EAAKxB,YAMtD,cAAC,IAAD,CAAqB+E,MAAO,OAAQC,OAAQ,OAA5C,SACE,eAAC,IAAD,CAAW7D,KAAMA,EAAjB,UACE,+BACE,iCAAgB8D,GAAG,UAAUC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAArD,UACE,sBAAMC,OAAO,MAAMC,UAAU,UAAUC,YAAa,IACpD,sBAAMF,OAAO,MAAMC,UAAU,UAAUC,YAAa,UAIvDlE,KAAKpC,MAAMuG,QAAU,KACpB,cAAC,IAAD,CACE1E,OAAO,UACP2E,UAAU,EACVC,gBAAgB,MAChB9F,KAAK,SAIT,cAAC,IAAD,CACEiC,QAAQ,YACR8D,KAAM,CAAE/F,KAAM,UAAWgG,SAAU,IACnCC,UAAU,EACVC,UAAW,IACXC,WAAY,GACZC,cAAe3E,KAAKgD,aACpB4B,WAAY,GACZC,KAAM7E,KAAKpC,MAAMuG,UAGnB,cAAC,IAAD,CACE3D,QAAQ,QACRsE,OAAQ,CAAC9E,KAAKpC,MAAM6E,QAAUG,EAAoB,EAAGU,GACrDyB,MAAO/E,KAAKpC,MAAM6E,QAAU,MAAQ,OACpCiC,WAAY,GACZF,UAAU,EACVC,UAAW,EACXG,WAAY,GACZN,KAAM,CAAE/F,KAAM,UAAWgG,SAAU,IACnCI,cAAe3E,KAAK8C,YACpB+B,KAAM7E,KAAKpC,MAAMuG,UAGnB,cAAC,IAAD,CAASa,QAAShF,KAAKkD,gBAEvB,cAAC,IAAD,CACElB,KAAK,SACLxB,QAAQ,QACRf,OAAO,UACPwF,QAAS,EACTC,YAAa,EACb3G,KAAM,gBACN4G,kBAAmB,IACnBC,mBAAoBpF,KAAKpC,MAAMuG,iBAxF3C,2BA+FE,SAAsBvG,GACpB,OAAO,cAAC,EAAD,2BAA2BA,GAA3B,IAAkC6E,QAASzC,KAAKpC,MAAM6E,aAhGjE,yBAmGE,SAAoB/D,GAClB,OAAO2G,YAAyB3G,EAAO,CAAE4G,eAAgB,MApG7D,0BAuGE,SAAqB5G,GACnB,OAAO2D,IAAM3D,GAAO6D,OAAO,iBAxG/B,2BA2GE,SAAsB7D,GACpB,OAAOiE,YAAqB,QAASjE,OA5GzC,GAAwCmC,IAAMC,gB,oBC1B9CyE,EAAOC,QAAUC,EAAQ,M,oBCAzB,IAAiDC,EAS9B,qBAATC,MAAuBA,KATgBD,EASH,SAASE,EAA+BC,GACtF,OAAiB,SAASC,GAEhB,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUT,QAGnC,IAAID,EAASQ,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHX,QAAS,IAUV,OANAM,EAAQG,GAAUG,KAAKb,EAAOC,QAASD,EAAQA,EAAOC,QAASQ,GAG/DT,EAAOY,GAAI,EAGJZ,EAAOC,QAqCf,OAhCAQ,EAAoBK,EAAIP,EAGxBE,EAAoBM,EAAIP,EAGxBC,EAAoBxG,EAAI,SAASgG,EAASjG,EAAMgH,GAC3CP,EAAoBQ,EAAEhB,EAASjG,IAClCkH,OAAOC,eAAelB,EAASjG,EAAM,CACpCoH,cAAc,EACdC,YAAY,EACZxF,IAAKmF,KAMRP,EAAoBa,EAAI,SAAStB,GAChC,IAAIgB,EAAShB,GAAUA,EAAOuB,WAC7B,WAAwB,OAAOvB,EAAM,SACrC,WAA8B,OAAOA,GAEtC,OADAS,EAAoBxG,EAAE+G,EAAQ,IAAKA,GAC5BA,GAIRP,EAAoBQ,EAAI,SAASO,EAAQC,GAAY,OAAOP,OAAOQ,UAAUC,eAAed,KAAKW,EAAQC,IAGzGhB,EAAoBmB,EAAI,GAGjBnB,EAAoBA,EAAoBoB,EAAI,GA9D7D,CAiEU,CAEH,SAAS7B,EAAQC,EAASQ,GAEjC,aAGAS,OAAOC,eAAelB,EAAS,aAAc,CAC3C9G,OAAO,IAGT,IAAI2I,EAAe,WAAc,SAASC,EAAiBC,EAAQ3J,GAAS,IAAK,IAAIsI,EAAI,EAAGA,EAAItI,EAAM+C,OAAQuF,IAAK,CAAE,IAAIsB,EAAa5J,EAAMsI,GAAIsB,EAAWZ,WAAaY,EAAWZ,aAAc,EAAOY,EAAWb,cAAe,EAAU,UAAWa,IAAYA,EAAWC,UAAW,GAAMhB,OAAOC,eAAea,EAAQC,EAAWE,IAAKF,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYV,UAAWW,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAEfG,EAAS9B,EAAoB,GAE7B+B,EAAUC,EAAuBF,GAIjCG,EAAcD,EAFDhC,EAAoB,IAIrC,SAASgC,EAAuBE,GAAO,OAAOA,GAAOA,EAAIpB,WAAaoB,EAAM,CAAEC,QAASD,GAEvF,SAASE,EAAgBC,EAAUV,GAAe,KAAMU,aAAoBV,GAAgB,MAAM,IAAIW,UAAU,qCAEhH,SAASC,EAA2B5C,EAAMS,GAAQ,IAAKT,EAAQ,MAAM,IAAI6C,eAAe,6DAAgE,OAAOpC,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BT,EAAPS,EAIlO,IAAIqC,EAAW,SAAUC,GAGvB,SAASD,IAGP,OAFAL,EAAgBpI,KAAMyI,GAEfF,EAA2BvI,MAAOyI,EAASE,WAAalC,OAAOmC,eAAeH,IAAWpF,MAAMrD,KAAM6I,YA0D9G,OAlEF,SAAmBC,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIT,UAAU,kEAAoES,GAAeD,EAAS7B,UAAYR,OAAOuC,OAAOD,GAAcA,EAAW9B,UAAW,CAAEgC,YAAa,CAAEvK,MAAOoK,EAAUlC,YAAY,EAAOa,UAAU,EAAMd,cAAc,KAAeoC,IAAYtC,OAAOyC,eAAiBzC,OAAOyC,eAAeJ,EAAUC,GAAcD,EAASH,UAAYI,GAG/dI,CAAUV,EAAUC,GAQpBrB,EAAaoB,EAAU,CAAC,CACtBf,IAAK,eACLhJ,MAAO,SAAsB0K,EAAUC,IAMrC,SAAoB9J,EAAMM,GACxB,IAAIyJ,EAAYC,OAAOC,KAAOD,OAAOE,WAAaF,OAC9CG,EAAc,IAAIC,KAAK,CAAC9J,IAE5B,GAAI,eAAgB+J,UAIlBA,UAAUC,WAAWH,EAAanK,OAC7B,MAAI,aAAcuK,kBAAkB7C,WAMzC,MAAM,IAAI8C,MAAM,mDALhB,IAAIC,EAAYC,SAASC,gBAAgB,+BAAgC,KACzEF,EAAUG,KAAOb,EAAUc,gBAAgBV,GAC3CM,EAAUK,SAAW9K,EAjBzB,SAAoB2I,GAClB,IAAIoC,EAAKL,SAASM,YAAY,eAC9BD,EAAGE,eAAe,SAAS,GAAM,EAAOjB,OAAQ,EAAG,EAAG,EAAG,EAAG,GAAG,GAAO,GAAO,GAAO,EAAO,EAAG,MAC9FrB,EAAIuC,cAAcH,GAehBI,CAAWV,IAKfW,CAAWvB,EAAUC,KAEtB,CACD3B,IAAK,SACLhJ,MAAO,WACL,IAAIkM,EAAS5K,KAET6K,EAAS7K,KAAKpC,MACdkN,EAAWD,EAAOC,SAClBC,EAAOF,EAAOE,KACd/F,EAAU6F,EAAO7F,QACjBgG,EAAQH,EAAOG,MACf1K,EAAYuK,EAAOvK,UAGvB,OAAOyH,EAAQI,QAAQ8C,cACrB,MACA,CACE3K,UAAW,4BAA8BA,EAAY,IAAMA,EAAY,IACvE4K,QAAS,WACP,OAAON,EAAOO,aAAaJ,EAAM/F,IAEnCgG,MAAOA,GAETF,OAKCrC,EAhEM,CAiEbX,EAAOsD,WAET3C,EAAS4C,UAAY,CACnBN,KAAM9C,EAAYE,QAAQmD,OAAOC,WACjCvG,QAASiD,EAAYE,QAAQmD,OAAOC,YAEtC/F,EAAQ2C,QAAUM,GAIX,SAASlD,EAAQC,GAExBD,EAAOC,QAAUI,GAIV,SAASL,EAAQC,GAExBD,EAAOC,QAAUK,MAzLfN,EAAOC,QAAUE,EAAQD,EAAQ,GAAUA,EAAQ,K,4WCWxC+F,EAAb,4JACE,WACE,OACE,sBAAKlL,UAAU,mBAAf,UACIN,KAAKpC,MAAM6E,QAQX,cAAC,OAAD,CACEnC,UAAU,+CACVmL,GAAIzL,KAAKpC,MAAM8N,kBAAkB,QAAS,MAF5C,SAIE,cAAC,IAAD,CAAkB/H,GAAG,4CAXvB,cAAC,OAAD,CACErD,UAAU,+CACVmL,GAAIzL,KAAKpC,MAAM8N,kBAAkB,QAAS,KAF5C,SAIE,cAAC,IAAD,CAAkB/H,GAAG,iDAWxB3D,KAAKpC,MAAMiC,MACV,cAAC,IAAD,CACEkL,KAAK,WACL/F,QAAShF,KAAK2L,aACdrL,UAAU,+CAHZ,SAKE,cAAC,IAAD,CAAkBqD,GAAG,mCAIxB3D,KAAKpC,MAAMiC,MACV,cAAC,IAAD,CACEkL,KAAK,YACL/F,QAAS4G,KAAKC,UAAU7L,KAAKpC,MAAMiC,MACnCS,UAAU,+CAHZ,SAKE,cAAC,IAAD,CAAkBqD,GAAG,yCApCjC,wBA2CE,WACE,IAAK3D,KAAKpC,MAAMiC,KACd,MAAO,GAGT,IAAMA,EAAOG,KAAKpC,MAAMiC,KAAKI,KAAI,SAACC,GAChC,MAAO,CAACA,EAAK4L,UAAW5L,EAAKxB,OAAOqN,KAAK,SAG3C,MAAO,CAAC,oBAAD,mBAAwBlM,IAAMkM,KAAK,YApD9C,GAA2ClL,IAAMuK,W,SCCpCY,G,OAAb,kDACE,WAAYpO,GAAuB,uCAC3BA,GAFV,0CAKE,WAAuB,IAAD,OACpB,OACE,qBAAK0C,UAAU,cAAf,SACGmG,OAAOwF,KAAK3O,KAAU2C,KAAI,SAACiM,GAC1B,IAAMC,EAAgBC,IAAW,CAC/B,UAAU,EACV,gBAAgB,EAChB,qBAAqB,EACrB,4BAA6B,EAAKxO,MAAMyO,WAAa/O,IAAS4O,KAGhE,OACE,cAAC,OAAD,CACE5L,UAAW6L,EAEXV,GAAI,EAAK7N,MAAM0O,eAAehP,IAAS4O,IAHzC,SAKE,cAAC,IAAD,CACEvI,GAAE,mCAA8BrG,IAAS4O,OAJtCA,YAnBnB,GAAuCrL,IAAMuK,Y,OCYvCmB,G,yDASJ,WAAY3O,GAAa,IAAD,8BACtB,cAAMA,IAHR2D,OAAc,GAKZ,EAAK+K,eAAiB,EAAKA,eAAevJ,KAApB,gBACtB,EAAK2I,kBAAoB,EAAKA,kBAAkB3I,KAAvB,gBAJH,E,qDAOxB,WACE/C,KAAKuB,OAASvB,KAAKwM,YAEnBxM,KAAKpC,MAAMkE,SAAS9B,KAAKpC,MAAM6O,MAAMlL,OAAOP,UAAWhB,KAAKuB,U,8CAG9D,SAAiC3D,GAC/B,IAAM2D,EAASvB,KAAKwM,YAEhBZ,KAAKC,UAAUtK,KAAYqK,KAAKC,UAAU7L,KAAKuB,UACjDvB,KAAKuB,OAASA,EAEdvB,KAAKpC,MAAMkE,SAAS9B,KAAKpC,MAAM6O,MAAMlL,OAAOP,UAAWhB,KAAKuB,W,oBAIhE,WACE,MAA0BmL,IAAYC,MAAM3M,KAAKpC,MAAMgP,SAASC,QAAxDC,EAAR,EAAQA,OAAQ/H,EAAhB,EAAgBA,MAEVgI,EAAkBC,IAAW,CACjC,YAAY,EACZ,mBAAoBF,EACpB,kBAA6B,MAAV/H,EACnB,iBAAiB,EACjB,6BAA6B,IAG/B,OACE,sBAAKzE,UAAWyM,EAAhB,UACE,cAAC,IAAD,CACEpJ,GAAE,mCAA8B3D,KAAKpC,MAAM6O,MAAMlL,OAAOP,WAD1D,SAGG,SAACiM,GAAD,OACC,cAAC,IAAD,UACE,gCAAQA,SAKd,sBAAK3M,UAAU,6CAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,eAAC,OAAD,CAAMA,UAAU,qBAAqBmL,GAAG,UAAxC,UACE,cAAC,IAAD,CAAWnL,UAAU,4BAErB,sBAAMA,UAAU,2BAAhB,SACE,cAAC,IAAD,CAAkBqD,GAAG,iCAK3B,qBAAKrD,UAAU,kBAAf,SACE,cAAC,IAAD,CACEqD,GAAE,iCAA4B3D,KAAKpC,MAAM6O,MAAMlL,OAAOP,eAG1D,qBAAKV,UAAU,qBAAf,SACE,cAAC,IAAD,CACEqD,GAAE,oCAA+B3D,KAAKpC,MAAM6O,MAAMlL,OAAOP,kBAK9DhB,KAAKkN,kB,wBAKZ,WACE,OACE,sBAAK5M,UAAU,qCAAf,UACE,qBAAKA,UAAU,kBAAf,SACGN,KAAKpC,MAAMiC,MAAQG,KAAKmN,gBAG1BnN,KAAKoN,sB,yBAKZ,WACE,IAAQN,EAAWJ,IAAYC,MAAM3M,KAAKpC,MAAMgP,SAASC,QAAjDC,OAER,MACO,2BADC9M,KAAKpC,MAAM6O,MAAMlL,OAAOP,UAG1B,cAAC,IAAD,CACEnB,KAAMG,KAAKqN,aACXlJ,UAAW2I,EACXlM,OAAQ,CACNrB,KACE,cAAC,IAAD,CACEoE,GAAI,wDAGRjF,MACE,cAAC,IAAD,CACEiF,GAAI,4DAUZ,cAAC,IAAD,CACE9D,KAAMG,KAAKqN,aACXlJ,UAAW2I,EACXrK,QAASzC,KAAKuB,OAAOwD,U,4BAO/B,WACE,MACO,2BADC/E,KAAKpC,MAAM6O,MAAMlL,OAAOP,UAErB,KAKL,sBAAKV,UAAU,4BAAf,UACE,cAAC,EAAD,CACE+L,SAAUrM,KAAKuB,OAAOL,SACtBoL,eAAgBtM,KAAKsM,iBAGvB,cAAC,EAAD,CACE7J,QAASzC,KAAKuB,OAAOwD,MACrBlF,KAAMG,KAAKpC,MAAMiC,KACjB6L,kBAAmB1L,KAAK0L,yB,wBAQpC,WACE,OAAQ1L,KAAKpC,MAAM6O,MAAMlL,OAAOP,WAC9B,IAAK,iBACL,IAAK,QACH,OAAOhB,KAAKpC,MAAMiC,KAAKI,KAAI,SAACC,GAC1B,MAAO,CACL4L,UAAW5L,EAAK4L,UAChB9J,KAAM,OACNtD,MAAOwB,EAAKxB,MAAQ,QAK1B,IAAK,kBACL,IAAK,aACH,OAAOsB,KAAKpC,MAAMiC,KAAKI,KAAI,SAACC,GAC1B,MAAO,CACL4L,UAAW5L,EAAK4L,UAChB9J,KAAM,QACNtD,MAAOwB,EAAKxB,UAKlB,IAAK,YACH,OAAOsB,KAAKpC,MAAMiC,KACfyN,MAAM,EAAGtN,KAAKpC,MAAMiC,KAAKc,OAAS,GAClCV,KAAI,SAACC,GACJ,MAAO,CACL4L,UAAW5L,EAAK4L,UAChB9J,KAAM,cACNtD,MAAOwB,EAAKxB,UAKpB,QACE,OAAOsB,KAAKpC,MAAMiC,Q,uBAKxB,WACE,IAAM0B,EAASmL,IAAYC,MAAM3M,KAAKpC,MAAM2P,QAAQX,SAASC,QAEvDW,EAAgB/G,OAAOwF,KAAK3O,KAAUmQ,MAAK,SAAC/F,GAChD,OAAOpK,IAASoK,KAASnG,EAAOL,YAGlC,MAAO,CACL6D,MAAwB,MAAjBxD,EAAOwD,MACd7D,SAAUsM,EAAgBlQ,IAASkQ,GAAiBlQ,IAASkE,W,4BAIjE,SAAuB0K,GACrB,IAAM3K,EAAcmL,IAAYC,MAAM3M,KAAKpC,MAAM2P,QAAQX,SAASC,QAIlE,OAFAtL,EAAOL,SAAWgL,EAEZ,GAAN,OAAUlM,KAAKpC,MAAMgP,SAASc,SAA9B,YAA0ChB,IAAYb,UAAUtK,M,+BAGlE,SACEoM,EACAjP,GAEA,IAAM6C,EAAcmL,IAAYC,MAAM3M,KAAKpC,MAAM2P,QAAQX,SAASC,QAQlE,OANAtL,EAAOoM,GAASjP,EAEF,OAAVA,UACK6C,EAAOoM,GAGV,GAAN,OAAU3N,KAAKpC,MAAMgP,SAASc,SAA9B,YAA0ChB,IAAYb,UAAUtK,Q,GAxOhDV,IAAMC,gBAoPnB,IAAM8M,EAAiBC,aAR9B,SAAyBpQ,GACvB,OAAOA,EAAMqQ,SAGf,SAA4B/L,GAC1B,OAAOgM,6BAAmBlM,IAAcE,KAGZ8L,CAG5BtB,GAEaqB","file":"static/js/13.afaecd43.chunk.js","sourcesContent":["export enum TIMESPAN {\n  DAYS_30 = '30days',\n  // DAYS_60 = '60days',\n  DAYS_180 = '180days',\n  YEAR_1 = '1year',\n  YEAR_2 = '2years',\n  // ALLTIME = 'alltime',\n}\n","import React from 'react';\nimport { Cell, Pie, PieChart, ResponsiveContainer, Sector } from 'recharts';\n\nimport './pie-chart.scss';\n\ninterface IPieChartProps {\n  data: any;\n  labels: any;\n  compact?: boolean;\n}\n\nconst COLORS = [\n  '#0088FE',\n  '#85144b',\n  '#FFBB28',\n  '#FF8042',\n  '#2ECC40',\n  '#FF4136',\n  '#001f3f',\n  '#0074D9',\n  '#FF851B',\n  '#00C49F',\n  '#F012BE',\n  '#7FDBFF',\n  '#FFDC00',\n  '#39CCCC',\n  '#3D9970',\n  '#B10DC9',\n  '#01FF70',\n];\n\nexport class PieChartComponent extends React.PureComponent<IPieChartProps> {\n  state = {\n    activeIndex: 0,\n  };\n\n  render(): JSX.Element {\n    const data = this.props.data\n      .map((item: any) => ({\n        name: item.name,\n        value: item.value,\n      }))\n      .sort((a: any, b: any) => b.y - a.y);\n\n    return (\n      <div className=\"bi-pie-chart\">\n        <div className=\"bi-pie-chart__chart\">\n          <ResponsiveContainer>\n            <PieChart>\n              <Pie\n                activeIndex={this.state.activeIndex}\n                activeShape={this.renderActiveShape}\n                data={data}\n                innerRadius={100}\n                outerRadius={140}\n                fill=\"#8884d8\"\n                dataKey=\"value\"\n                onMouseEnter={this.onPieEnter}\n              >\n                {data.map((entry: any, index: number) => (\n                  <Cell\n                    key={`cell-${entry.value}`}\n                    fill={COLORS[index % COLORS.length]}\n                  />\n                ))}\n              </Pie>\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n\n        <div className=\"bi-pie-chart__legend bi-pie-chart__table bi-table\">\n          <div className=\"bi-pie-chart__row bi-table__row bi-pie-chart__row--header\">\n            <div className=\"bi-pie-chart__cell bi-table__cell\">\n              {this.props.labels.name}\n            </div>\n            <div className=\"bi-pie-chart__cell bi-table__cell\">\n              {this.props.labels.value}\n            </div>\n          </div>\n\n          {this.props.data.map((item: any, index: number) => (\n            <div className=\"bi-pie-chart__row bi-table__row\" key={index}>\n              <div className=\"bi-pie-chart__cell bi-table__cell\">\n                <span>{this.props.labels.name}</span> {item.name}\n              </div>\n              <div className=\"bi-pie-chart__cell bi-table__cell\">\n                <span>{this.props.labels.value}</span> {item.value}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  renderActiveShape = (props: any) => {\n    const RADIAN = Math.PI / 180;\n    const {\n      cx,\n      cy,\n      midAngle,\n      innerRadius,\n      outerRadius,\n      startAngle,\n      endAngle,\n      fill,\n      payload,\n      percent,\n      value,\n    } = props;\n    const sin = Math.sin(-RADIAN * midAngle);\n    const cos = Math.cos(-RADIAN * midAngle);\n    const sx = cx + (outerRadius + 10) * cos;\n    const sy = cy + (outerRadius + 10) * sin;\n    const mx = cx + (outerRadius + 30) * cos;\n    const my = cy + (outerRadius + 30) * sin;\n    const ex = mx + (cos >= 0 ? 1 : -1) * 22;\n    const ey = my;\n    const textAnchor = cos >= 0 ? 'start' : 'end';\n\n    return (\n      <g>\n        <text x={cx} y={cy} dy={8} textAnchor=\"middle\" fill={fill}>\n          {payload.name}\n        </text>\n        <Sector\n          cx={cx}\n          cy={cy}\n          innerRadius={innerRadius}\n          outerRadius={outerRadius}\n          startAngle={startAngle}\n          endAngle={endAngle}\n          fill={fill}\n        />\n        <Sector\n          cx={cx}\n          cy={cy}\n          startAngle={startAngle}\n          endAngle={endAngle}\n          innerRadius={outerRadius + 6}\n          outerRadius={outerRadius + 10}\n          fill={fill}\n        />\n        <path\n          d={`M${sx},${sy}L${mx},${my}L${ex},${ey}`}\n          stroke={fill}\n          fill=\"none\"\n        />\n        <circle cx={ex} cy={ey} r={2} fill={fill} stroke=\"none\" />\n        <text\n          x={ex + (cos >= 0 ? 1 : -1) * 12}\n          y={ey}\n          textAnchor={textAnchor}\n          fill=\"#333\"\n        >{`Blocks: ${value}`}</text>\n        <text\n          x={ex + (cos >= 0 ? 1 : -1) * 12}\n          y={ey}\n          dy={18}\n          textAnchor={textAnchor}\n          fill=\"#999\"\n        >\n          {`(Rate: ${(percent * 100).toFixed(2)}%)`}\n        </text>\n      </g>\n    );\n  };\n\n  onPieEnter = (data: any, index: number) => {\n    this.setState({\n      activeIndex: index,\n    });\n  };\n}\n\nexport default PieChartComponent;\n","import axios, { AxiosResponse } from 'axios';\n\nimport environment from '../config/environment';\n\nimport { IChartParams } from '../actions/chart.actions';\n\nimport { TIMESPAN } from '../constants/timespan.constant';\n\nexport class ChartApiService {\n  static getChart(chartType: string, options: IChartParams = {}): any {\n    // TODO: all doesnt work properly\n    // const timespan =\n    //   options.timespan === TIMESPAN.ALLTIME ? 'all' : options.timespan;\n\n    const timespan = options.timespan;\n\n    return axios\n      .get(`${environment.apiUrl}/charts/${chartType}`, {\n        params: {\n          timespan: timespan || TIMESPAN.DAYS_30,\n        },\n      })\n      .then((response: AxiosResponse) => {\n        if (!response) {\n          return Promise.reject(\n            `Block api service. Request: ${environment.apiUrl}/charts/${chartType}.`\n          );\n        }\n\n        return response.data;\n      });\n  }\n}\n","import { Action, ActionCreatorsMapObject, Dispatch } from 'redux';\n\nimport { GET_CHART, GET_CHART_SUCCESS } from '../constants/chart.types';\nimport { TIMESPAN } from '../constants/timespan.constant';\nimport { ChartApiService } from '../services/chart.api.service';\n\nexport interface ChartActions extends ActionCreatorsMapObject {\n  getChart: (chartType: string, options?: IChartParams) => any;\n}\n\nexport interface IChartParams {\n  timespan?: TIMESPAN;\n}\n\nexport const ChartActions: ChartActions = {\n  getChart(chartType: string, options: IChartParams = {}): any {\n    return (dispatch: Dispatch<Action>) => {\n      dispatch({\n        type: GET_CHART,\n      });\n\n      return ChartApiService.getChart(chartType, options).then((data: any) => {\n        dispatch({\n          payload: {\n            data,\n          },\n          type: GET_CHART_SUCCESS,\n        });\n      });\n    };\n  },\n};\n","import dayjs from 'dayjs';\nimport React from 'react';\n\nimport { convertInfoItemValue } from '../../../utils/convertInfoItemvalue';\n\nimport './chart-tooltip.scss';\ninterface ChartProps {\n  type: string;\n  payload: any[];\n  label: string;\n  isScale: boolean;\n}\nexport class ChartTooltipComponent extends React.PureComponent<ChartProps> {\n  render(): JSX.Element {\n    const date = dayjs(this.props.label).format('DD.MM.YYYY');\n\n    let value = null;\n    const payload = this.props.payload ? this.props.payload[0] : null;\n\n    if (payload) {\n      const type = payload.payload.type || 'chart';\n      const transformValue = this.props.isScale\n        ? payload.payload.originalValue\n        : this.props.payload[0].value;\n\n      value = convertInfoItemValue(type, transformValue);\n    }\n\n    return (\n      <div className=\"bi-chart-tooltip\">\n        <div className=\"bi-chart-tooltip__label\">{date}</div>\n        {value}\n      </div>\n    );\n  }\n}\n","import dayjs from 'dayjs';\nimport React from 'react';\n\nimport {\n  Area,\n  AreaChart,\n  CartesianGrid,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from 'recharts';\n\nimport { convertInfoItemValue } from '../../../utils/convertInfoItemvalue';\nimport { formatNumberMetricPrefix } from '../../../utils/formatNumberMetricPrefix';\n\nimport { ChartTooltipComponent } from '../chart-tooltip/chart-tooltip.component';\n\ninterface IAreaChartProps {\n  data: any;\n  compact?: boolean;\n  isScale: boolean;\n}\n\nconst VERY_SMALL_NUMBER = 0.0001;\n\nexport class AreaChartComponent extends React.PureComponent<IAreaChartProps> {\n  constructor(props: any) {\n    super(props);\n\n    this.formatLabel = this.formatLabel.bind(this);\n    this.formatXLabel = this.formatXLabel.bind(this);\n    this.formatTooltip = this.formatTooltip.bind(this);\n    this.renderTooltip = this.renderTooltip.bind(this);\n  }\n\n  render(): JSX.Element {\n    let data = this.props.data;\n\n    const max = Math.ceil(\n      Math.max.apply(\n        null,\n        data.map((item: any) => item.value)\n      )\n    );\n\n    const maxDomain =\n      (Math.ceil(max / Math.pow(10, max.toString().length - 1)) + 2) *\n      Math.pow(10, max.toString().length - 1);\n\n    // Logarithmic scale doesn't support values under 0 or equal to 0\n    if (this.props.isScale) {\n      data = data.map((item: any) => {\n        return {\n          ...item,\n          originalValue: item.value,\n          value: item.value <= 0 ? VERY_SMALL_NUMBER : item.value,\n        };\n      });\n    }\n\n    return (\n      <ResponsiveContainer width={'100%'} height={'100%'}>\n        <AreaChart data={data}>\n          <defs>\n            <linearGradient id=\"colorUv\" x1=\"0\" y1=\"1\" x2=\"1\" y2=\"0\">\n              <stop offset=\"20%\" stopColor=\"#0078FF\" stopOpacity={0} />\n              <stop offset=\"80%\" stopColor=\"#0078FF\" stopOpacity={0.2} />\n            </linearGradient>\n          </defs>\n\n          {this.props.compact ? null : (\n            <CartesianGrid\n              stroke=\"#e8e8e8\"\n              vertical={false}\n              strokeDasharray=\"6 4\"\n              fill=\"#fff\"\n            />\n          )}\n\n          <XAxis\n            dataKey=\"timestamp\"\n            tick={{ fill: '#828795', fontSize: 14 }}\n            tickLine={false}\n            tickCount={100}\n            tickMargin={10}\n            tickFormatter={this.formatXLabel}\n            minTickGap={30}\n            hide={this.props.compact}\n          />\n\n          <YAxis\n            dataKey=\"value\"\n            domain={[this.props.isScale ? VERY_SMALL_NUMBER : 0, maxDomain]}\n            scale={this.props.isScale ? 'log' : 'auto'}\n            tickMargin={10}\n            tickLine={false}\n            tickCount={5}\n            minTickGap={30}\n            tick={{ fill: '#828795', fontSize: 14 }}\n            tickFormatter={this.formatLabel}\n            hide={this.props.compact}\n          />\n\n          <Tooltip content={this.renderTooltip} />\n\n          <Area\n            type=\"linear\"\n            dataKey=\"value\"\n            stroke=\"#0078FF\"\n            yAxisId={0}\n            fillOpacity={1}\n            fill={'url(#colorUv)'}\n            animationDuration={300}\n            isAnimationActive={!this.props.compact}\n          />\n        </AreaChart>\n      </ResponsiveContainer>\n    );\n  }\n\n  private renderTooltip(props: any): JSX.Element {\n    return <ChartTooltipComponent {...props} isScale={this.props.isScale} />;\n  }\n\n  private formatLabel(value: number): string {\n    return formatNumberMetricPrefix(value, { fractionDigits: 0 });\n  }\n\n  private formatXLabel(value: number): string {\n    return dayjs(value).format('DD MMM YYYY');\n  }\n\n  private formatTooltip(value: any): string {\n    return convertInfoItemValue('chart', value);\n  }\n}\n","module.exports = require('./lib/react-download');","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"prop-types\")) : factory(root[\"react\"], root[\"prop-types\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(2);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Download = function (_Component) {\n  _inherits(Download, _Component);\n\n  function Download() {\n    _classCallCheck(this, Download);\n\n    return _possibleConstructorReturn(this, (Download.__proto__ || Object.getPrototypeOf(Download)).apply(this, arguments));\n  }\n\n  _createClass(Download, [{\n    key: \"downloadFile\",\n    value: function downloadFile(fileName, fileContent) {\n      function fake_click(obj) {\n        var ev = document.createEvent(\"MouseEvents\");\n        ev.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        obj.dispatchEvent(ev);\n      }\n      function export_raw(name, data) {\n        var urlObject = window.URL || window.webkitURL || window;\n        var export_blob = new Blob([data]);\n\n        if ('msSaveBlob' in navigator) {\n          // Prefer msSaveBlob if available - Edge supports a[download] but\n          // ignores the filename provided, using the blob UUID instead.\n          // msSaveBlob will respect the provided filename\n          navigator.msSaveBlob(export_blob, name);\n        } else if ('download' in HTMLAnchorElement.prototype) {\n          var save_link = document.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\");\n          save_link.href = urlObject.createObjectURL(export_blob);\n          save_link.download = name;\n          fake_click(save_link);\n        } else {\n          throw new Error(\"Neither a[download] nor msSaveBlob is available\");\n        }\n      }\n      export_raw(fileName, fileContent);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          children = _props.children,\n          file = _props.file,\n          content = _props.content,\n          style = _props.style,\n          className = _props.className;\n\n\n      return _react2.default.createElement(\n        \"div\",\n        {\n          className: \"react-download-container\" + (className ? \" \" + className : \"\"),\n          onClick: function onClick() {\n            return _this2.downloadFile(file, content);\n          },\n          style: style\n        },\n        children\n      );\n    }\n  }]);\n\n  return Download;\n}(_react.Component);\n\nDownload.propTypes = {\n  file: _propTypes2.default.string.isRequired,\n  content: _propTypes2.default.string.isRequired\n};\nexports.default = Download;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ })\n/******/ ]);\n});","import Download from '@axetroy/react-download';\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router-dom';\n\nimport './chart-actions.scss';\n\ninterface IChartActionsProps {\n  getChartActionUrl: (action: string, value: string | number | null) => string;\n  isScale: boolean;\n  data: any;\n}\n\nexport class ChartActionsComponent extends React.Component<IChartActionsProps> {\n  render(): JSX.Element {\n    return (\n      <div className=\"bi-chart-actions\">\n        {!this.props.isScale ? (\n          <Link\n            className=\"bi-chart-actions__action bi-btn bi-btn--flat\"\n            to={this.props.getChartActionUrl('scale', '1')}\n          >\n            <FormattedMessage id=\"components.chart-actions.logarithmic-scale\" />\n          </Link>\n        ) : (\n          <Link\n            className=\"bi-chart-actions__action bi-btn bi-btn--flat\"\n            to={this.props.getChartActionUrl('scale', null)}\n          >\n            <FormattedMessage id=\"components.chart-actions.linear-scale\" />\n          </Link>\n        )}\n\n        {this.props.data && (\n          <Download\n            file=\"data.csv\"\n            content={this.getCSVData()}\n            className=\"bi-chart-actions__action bi-btn bi-btn--flat\"\n          >\n            <FormattedMessage id=\"components.chart-actions.csv\" />\n          </Download>\n        )}\n\n        {this.props.data && (\n          <Download\n            file=\"data.json\"\n            content={JSON.stringify(this.props.data)}\n            className=\"bi-chart-actions__action bi-btn bi-btn--flat\"\n          >\n            <FormattedMessage id=\"components.chart-actions.json\" />\n          </Download>\n        )}\n      </div>\n    );\n  }\n\n  private getCSVData(): string {\n    if (!this.props.data) {\n      return '';\n    }\n\n    const data = this.props.data.map((item: any) => {\n      return [item.timestamp, item.value].join(', ');\n    });\n\n    return ['timestamp, value', ...data].join('\\r\\n');\n  }\n}\n","import classNames from 'classnames';\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router-dom';\n\nimport { TIMESPAN } from '../../../constants/timespan.constant';\n\nimport './timespan.scss';\n\ninterface TimespanProps {\n  getTimespanUrl: (selectedSpan: TIMESPAN) => string;\n  selected: TIMESPAN;\n}\n\nexport class TimespanComponent extends React.Component<TimespanProps> {\n  constructor(props: TimespanProps) {\n    super(props);\n  }\n\n  render(): JSX.Element {\n    return (\n      <div className=\"bi-timespan\">\n        {Object.keys(TIMESPAN).map((span) => {\n          const btnClassNames = classNames({\n            'bi-btn': true,\n            'bi-btn--flat': true,\n            'bi-timespan__span': true,\n            'bi-timespan__span--active': this.props.selected === TIMESPAN[span],\n          });\n\n          return (\n            <Link\n              className={btnClassNames}\n              key={span}\n              to={this.props.getTimespanUrl(TIMESPAN[span])}\n            >\n              <FormattedMessage\n                id={`components.timespan.span.${TIMESPAN[span]}`}\n              />\n            </Link>\n          );\n        })}\n      </div>\n    );\n  }\n}\n","import classnames from 'classnames';\nimport queryString from 'query-string';\nimport React from 'react';\nimport Helmet from 'react-helmet';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { RouteComponentProps } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { bindActionCreators } from 'redux';\n\nimport { TIMESPAN } from '../../constants/timespan.constant';\n\nimport { ChartState } from '../../reducers/chart.reducer';\nimport { AppState } from '../../store/app.store';\n\nimport { ChartActions } from '../../actions/chart.actions';\n\nimport { AreaChartComponent } from '../../components/charts/area-chart/area-chart.component';\nimport { ChartActionsComponent } from '../../components/charts/chart-actions/chart-actions.component';\nimport { PieChartComponent } from '../../components/charts/pie-chart/pie-chart.component';\nimport { TimespanComponent } from '../../components/charts/timespan/timespan.component';\n\nimport { ArrowIcon } from '../../components/common/icons/common.icons';\n\nimport './chart.scss';\n\nclass Chart extends React.PureComponent<\n  RouteComponentProps<{\n    chartType: string;\n  }> &\n    ChartState &\n    ChartActions\n> {\n  params: any = {};\n\n  constructor(props: any) {\n    super(props);\n\n    this.getTimespanUrl = this.getTimespanUrl.bind(this);\n    this.getChartActionUrl = this.getChartActionUrl.bind(this);\n  }\n\n  componentDidMount(): void {\n    this.params = this.getParams();\n\n    this.props.getChart(this.props.match.params.chartType, this.params);\n  }\n\n  UNSAFE_componentWillReceiveProps(props: any): void {\n    const params = this.getParams();\n\n    if (JSON.stringify(params) !== JSON.stringify(this.params)) {\n      this.params = params;\n\n      this.props.getChart(this.props.match.params.chartType, this.params);\n    }\n  }\n\n  render(): JSX.Element {\n    const { iframe, scale } = queryString.parse(this.props.location.search);\n\n    const chartClassNames = classnames({\n      'bi-chart': true,\n      'bi-chart--iframe': iframe,\n      'bi-chart--scale': scale === '1',\n      'g-flex-column': true,\n      'g-flex-column__item-fixed': true,\n    });\n\n    return (\n      <div className={chartClassNames}>\n        <FormattedMessage\n          id={`common.pages.chart.title.${this.props.match.params.chartType}`}\n        >\n          {(title) => (\n            <Helmet>\n              <title>{title}</title>\n            </Helmet>\n          )}\n        </FormattedMessage>\n\n        <div className=\"bi-chart__header g-flex-column__item-fixed\">\n          <div className=\"bi-chart__line\">\n            <Link className=\"bi-chart__btn-back\" to=\"/charts\">\n              <ArrowIcon className=\"bi-chart__btn-back-icon\" />\n\n              <span className=\"bi-chart__btn-back-title\">\n                <FormattedMessage id=\"components.chart.back\" />\n              </span>\n            </Link>\n          </div>\n\n          <div className=\"bi-chart__title\">\n            <FormattedMessage\n              id={`components.chart.title.${this.props.match.params.chartType}`}\n            />\n          </div>\n          <div className=\"bi-chart__subtitle\">\n            <FormattedMessage\n              id={`components.chart.subtitle.${this.props.match.params.chartType}`}\n            />\n          </div>\n        </div>\n\n        {this.renderBody()}\n      </div>\n    );\n  }\n\n  private renderBody(): JSX.Element {\n    return (\n      <div className=\"bi-chart__body g-flex-column__item\">\n        <div className=\"bi-chart__chart\">\n          {this.props.data && this.renderChart()}\n        </div>\n\n        {this.renderControls()}\n      </div>\n    );\n  }\n\n  private renderChart(): JSX.Element {\n    const { iframe } = queryString.parse(this.props.location.search);\n\n    switch (this.props.match.params.chartType) {\n      case 'hash-rate-distribution': {\n        return (\n          <PieChartComponent\n            data={this.formatData()}\n            compact={!!iframe}\n            labels={{\n              name: (\n                <FormattedMessage\n                  id={'components.chart.hash-rate-distribution.labels.name'}\n                />\n              ),\n              value: (\n                <FormattedMessage\n                  id={'components.chart.hash-rate-distribution.labels.value'}\n                />\n              ),\n            }}\n          />\n        );\n      }\n\n      default: {\n        return (\n          <AreaChartComponent\n            data={this.formatData()}\n            compact={!!iframe}\n            isScale={this.params.scale}\n          />\n        );\n      }\n    }\n  }\n\n  private renderControls(): JSX.Element | null {\n    switch (this.props.match.params.chartType) {\n      case 'hash-rate-distribution': {\n        return null;\n      }\n\n      default: {\n        return (\n          <div className=\"bi-chart__controls g-flex\">\n            <TimespanComponent\n              selected={this.params.timespan}\n              getTimespanUrl={this.getTimespanUrl}\n            />\n\n            <ChartActionsComponent\n              isScale={this.params.scale}\n              data={this.props.data}\n              getChartActionUrl={this.getChartActionUrl}\n            />\n          </div>\n        );\n      }\n    }\n  }\n\n  private formatData(): any {\n    switch (this.props.match.params.chartType) {\n      case 'miners-revenue':\n      case 'total': {\n        return this.props.data.map((item: any) => {\n          return {\n            timestamp: item.timestamp,\n            type: 'coin',\n            value: item.value / 1e9,\n          };\n        });\n      }\n\n      case 'blockchain-size':\n      case 'block-size': {\n        return this.props.data.map((item: any) => {\n          return {\n            timestamp: item.timestamp,\n            type: 'bytes',\n            value: item.value,\n          };\n        });\n      }\n\n      case 'hash-rate': {\n        return this.props.data\n          .slice(0, this.props.data.length - 1)\n          .map((item: any) => {\n            return {\n              timestamp: item.timestamp,\n              type: 'hashRateDay',\n              value: item.value,\n            };\n          });\n      }\n\n      default: {\n        return this.props.data;\n      }\n    }\n  }\n\n  private getParams(): any {\n    const params = queryString.parse(this.props.history.location.search);\n\n    const validTimespan = Object.keys(TIMESPAN).find((key: string) => {\n      return TIMESPAN[key] === params.timespan;\n    });\n\n    return {\n      scale: params.scale === '1',\n      timespan: validTimespan ? TIMESPAN[validTimespan] : TIMESPAN.DAYS_30,\n    };\n  }\n\n  private getTimespanUrl(span: TIMESPAN): string {\n    const params: any = queryString.parse(this.props.history.location.search);\n\n    params.timespan = span;\n\n    return `${this.props.location.pathname}?${queryString.stringify(params)}`;\n  }\n\n  private getChartActionUrl(\n    param: string,\n    value: string | number | null\n  ): string {\n    const params: any = queryString.parse(this.props.history.location.search);\n\n    params[param] = value;\n\n    if (value === null) {\n      delete params[param];\n    }\n\n    return `${this.props.location.pathname}?${queryString.stringify(params)}`;\n  }\n}\n\nfunction mapStateToProps(state: AppState): ChartState {\n  return state.chart;\n}\n\nfunction mapDispatchToProps(dispatch: any): any {\n  return bindActionCreators(ChartActions, dispatch);\n}\n\nexport const ChartComponent = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Chart);\n\nexport default ChartComponent;\n"],"sourceRoot":""}