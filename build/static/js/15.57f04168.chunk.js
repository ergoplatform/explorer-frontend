(this["webpackJsonpblockchain-explorer"]=this["webpackJsonpblockchain-explorer"]||[]).push([[15],{271:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(11),s=n(12),a=n(16),r=n(15),l=n(0),c=n.n(l),o=n(7),b=n(26),p=(n(272),n(9)),u=n(1),d=function(e){Object(a.a)(n,e);var t=Object(r.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=Math.ceil(this.props.total/this.props.limit);return e?Object(u.jsxs)("div",{className:"bi-paginate-simple",children:[0===this.props.forcePage?Object(u.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",disabled:!0,children:Object(u.jsx)(p.l,{className:"bi-paginate-simple__btn-icon"})}):Object(u.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",to:this.props.getPageUrl(0),children:Object(u.jsx)(p.l,{className:"bi-paginate-simple__btn-icon"})}),0===this.props.forcePage?Object(u.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",disabled:!0,children:Object(u.jsx)(p.b,{className:"bi-paginate-simple__btn-icon"})}):Object(u.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn--flat",to:this.props.getPageUrl(this.props.forcePage-1),children:Object(u.jsx)(p.b,{className:"bi-paginate-simple__btn-icon"})}),Object(u.jsx)("span",{className:"bi-paginate-simple__status",children:Object(u.jsx)(o.a,{id:"components.paginate-simple.page-of",values:{current:this.props.forcePage+1,total:e}})}),Object(u.jsx)("span",{className:"bi-paginate-simple__status bi-paginate-simple__status--mobile",children:Object(u.jsx)(o.a,{id:"components.paginate-simple.page",values:{current:this.props.forcePage+1}})}),this.props.forcePage===e-1?Object(u.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn bi-btn--flat",disabled:!0,children:Object(u.jsx)(p.b,{className:"bi-paginate-simple__btn-icon"})}):Object(u.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn--flat",to:this.props.getPageUrl(this.props.forcePage+1),children:Object(u.jsx)(p.b,{className:"bi-paginate-simple__btn-icon"})}),this.props.forcePage===e-1?Object(u.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn bi-btn--flat",disabled:!0,children:Object(u.jsx)(p.l,{className:"bi-paginate-simple__btn-icon"})}):Object(u.jsx)(b.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn--flat",to:this.props.getPageUrl(e-1),children:Object(u.jsx)(p.l,{className:"bi-paginate-simple__btn-icon"})})]}):null}}]),n}(c.a.Component)},272:function(e,t,n){},288:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(11),s=n(12),a=n(16),r=n(15),l=n(38),c=n.n(l),o=n(0),b=n.n(o),p=n(26),u=(n(289),n(1)),d=function(e){Object(a.a)(n,e);var t=Object(r.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"bi-limit-selector",children:[Object(u.jsx)("span",{className:"bi-limit-selector__label",children:this.props.label}),this.props.items.map((function(t,n){var i=c()({"bi-btn":!0,"bi-btn--flat":!0,"bi-limit-selector__item":!0,"bi-limit-selector__item--selected":t===e.props.selected});return Object(u.jsx)(p.Link,{className:i,to:e.props.getLimitLink(t),children:t},n)}))]})}}]),n}(b.a.PureComponent)},289:function(e,t,n){},343:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(31),s=n(47),a=function(e){return Object(i.getStruct)(s.b)(e)}},349:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n(11),s=n(12),a=n(18),r=n(88),l=n(47),c=function(){function e(){Object(i.a)(this,e)}return Object(s.a)(e,null,[{key:"apiUrl",get:function(){return"".concat(a.a.apiUrl)}},{key:"getAllIssuedTokens",value:function(e,t){var n=t.limit,i=t.offset;return Object(r.a)(l.b,{method:"get",url:"https://api.ergoplatform.com/api/v1/tokens",params:{limit:n,offset:i}},{dispatch:e})}},{key:"getSearchIssuedTokensByQuery",value:function(e,t){var n=t.searchQuery,i=t.limit,s=t.offset;return Object(r.a)(l.b,{method:"get",url:"https://api.ergoplatform.com/api/v1/tokens/search",params:{limit:i,offset:s,query:n}},{dispatch:e})}},{key:"getTotalIssuedTokens",value:function(e,t){var n=t.limit;return Object(r.a)(l.f,{method:"get",url:"https://api.ergoplatform.com/api/v1/tokens",params:{limit:n}},{dispatch:e})}},{key:"getIssuedTokensById",value:function(t,n){return Object(r.a)(l.c,{method:"get",url:"".concat(e.apiUrl,"/tokens/").concat(n,"/issuingBox")},{dispatch:t})}}]),e}(),o=n(99),b={getTokens:function(e){return function(t){var n,i;return!e.searchQuery||(null===(n=e.searchQuery)||void 0===n||null===(i=n.trim())||void 0===i?void 0:i.length)<3?c.getAllIssuedTokens(t,e).then((function(n){t({payload:{offset:e.offset||0},type:o.a})})):c.getSearchIssuedTokensByQuery(t,e).then((function(n){t({payload:{offset:e.offset||0},type:o.a})}))}}}},661:function(e,t,n){},662:function(e,t,n){},696:function(e,t,n){"use strict";n.r(t);var i=n(3),s=n(11),a=n(12),r=n(19),l=n(16),c=n(15),o=n(58),b=n.n(o),p=n(0),u=n.n(p),d=n(67),m=n.n(d),h=n(7),f=n(25),j=n(21),_=n(339),g=n(288),O=n(271),k=n(349),v=n(343),x=n(49),y=n.n(x),N=n(26),T=n(92),w=n(6),L=n.n(w),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},S=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var E=function(e){function t(){var e;W(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return a.state={},a.styles={ellipsis:{position:"fixed",visibility:"hidden",top:0,left:0}},a.elements={},a.onResize=a.onResize.bind(a),a.onTruncate=a.onTruncate.bind(a),a.calcTargetWidth=a.calcTargetWidth.bind(a),a.measureWidth=a.measureWidth.bind(a),a.getLines=a.getLines.bind(a),a.renderLine=a.renderLine.bind(a),a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),S(t,[{key:"componentDidMount",value:function(){var e=this.elements.text,t=this.calcTargetWidth,n=this.onResize,i=document.createElement("canvas");this.canvasContext=i.getContext("2d"),t((function(){e&&e.parentNode.removeChild(e)})),window.addEventListener("resize",n)}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.forceUpdate(),this.props.width!==e.width&&this.calcTargetWidth()}},{key:"componentWillUnmount",value:function(){var e=this.elements.ellipsis,t=this.onResize,n=this.timeout;e.parentNode.removeChild(e),window.removeEventListener("resize",t),window.cancelAnimationFrame(n)}},{key:"innerText",value:function(e){var t=document.createElement("div"),n="innerText"in window.HTMLElement.prototype?"innerText":"textContent";t.innerHTML=e.innerHTML.replace(/\r\n|\r|\n/g," ");var i=t[n],s=document.createElement("div");return s.innerHTML="foo<br/>bar","foo\nbar"!==s[n].replace(/\r\n|\r/g,"\n")&&(t.innerHTML=t.innerHTML.replace(/<br.*?[\/]?>/gi,"\n"),i=t[n]),i}},{key:"onResize",value:function(){this.calcTargetWidth()}},{key:"onTruncate",value:function(e){var t=this.props.onTruncate;"function"===typeof t&&(this.timeout=window.requestAnimationFrame((function(){t(e)})))}},{key:"calcTargetWidth",value:function(e){var t=this.elements.target,n=this.calcTargetWidth,i=this.canvasContext,s=this.props.width;if(t){var a=s||Math.floor(t.parentNode.getBoundingClientRect().width);if(!a)return window.requestAnimationFrame((function(){return n(e)}));var r=window.getComputedStyle(t),l=[r["font-weight"],r["font-style"],r["font-size"],r["font-family"]].join(" ");i.font=l,this.setState({targetWidth:a},e)}}},{key:"measureWidth",value:function(e){return this.canvasContext.measureText(e).width}},{key:"ellipsisWidth",value:function(e){return e.offsetWidth}},{key:"trimRight",value:function(e){return e.replace(/\s+$/,"")}},{key:"getLines",value:function(){for(var e=this.elements,t=this.props,n=t.lines,i=t.ellipsis,s=t.trimWhitespace,a=this.state.targetWidth,r=this.innerText,l=this.measureWidth,c=this.onTruncate,o=this.trimRight,b=[],p=r(e.text).split("\n").map((function(e){return e.split(" ")})),d=!0,m=this.ellipsisWidth(this.elements.ellipsis),h=1;h<=n;h++){var f=p[0];if(0!==f.length){var j=f.join(" ");if(l(j)<=a&&1===p.length){d=!1,b.push(j);break}if(h===n){for(var _=f.join(" "),g=0,O=_.length-1;g<=O;){var k=Math.floor((g+O)/2);l(_.slice(0,k+1))+m<=a?g=k+1:O=k-1}var v=_.slice(0,g);if(s)for(v=o(v);!v.length&&b.length;){v=o(b.pop())}j=u.a.createElement("span",null,v,i)}else{for(var x=0,y=f.length-1;x<=y;){var N=Math.floor((x+y)/2);l(f.slice(0,N+1).join(" "))<=a?x=N+1:y=N-1}if(0===x){h=n-1;continue}j=f.slice(0,x).join(" "),p[0].splice(0,x)}b.push(j)}else b.push(),p.shift(),h--}return c(d),b}},{key:"renderLine",value:function(e,t,n){if(t===n.length-1)return u.a.createElement("span",{key:t},e);var i=u.a.createElement("br",{key:t+"br"});return e?[u.a.createElement("span",{key:t},e),i]:i}},{key:"render",value:function(){var e=this,t=this.elements.target,n=this.props,i=n.children,s=n.ellipsis,a=n.lines,r=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(n,["children","ellipsis","lines"]),l=this.state.targetWidth,c=this.getLines,o=this.renderLine,b=this.onTruncate,p=void 0;return"undefined"!==typeof window&&!(!t||!l)&&(a>0?p=c().map(o):(p=i,b(!1))),delete r.onTruncate,delete r.trimWhitespace,u.a.createElement("span",P({},r,{ref:function(t){e.elements.target=t}}),u.a.createElement("span",null,p),u.a.createElement("span",{ref:function(t){e.elements.text=t}},i),u.a.createElement("span",{ref:function(t){e.elements.ellipsis=t},style:this.styles.ellipsis},s))}}]),t}(p.Component);E.propTypes={children:L.a.node,ellipsis:L.a.node,lines:L.a.oneOfType([L.a.oneOf([!1]),L.a.number]),trimWhitespace:L.a.bool,width:L.a.number,onTruncate:L.a.func},E.defaultProps={children:"",ellipsis:"\u2026",lines:1,trimWhitespace:!1,width:0};var U=E,I=n(1),M=function(e){var t=e.children,n=e.lines,i=Object(p.useState)(!1),s=Object(T.a)(i,2),a=s[0],r=s[1],l=Object(p.useState)(!1),c=Object(T.a)(l,2),o=c[0],b=c[1],u=Object(I.jsxs)(I.Fragment,{children:[!a&&"...",Object(I.jsx)("br",{}),Object(I.jsx)("a",{href:"#!",onClick:function(e){e.preventDefault(),r(!a)},children:Object(I.jsx)(h.a,{id:a?"common.token.showLess":"common.token.showMore"})})]});return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(U,{lines:!a&&n,ellipsis:u,onTruncate:b,children:t}),!o&&a&&u]})},F=(n(661),function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(I.jsx)("div",{className:"bi-issued-tokens-table",children:this.props.tokens?this.renderTable():null})}},{key:"renderTable",value:function(){return Object(I.jsxs)("table",{className:"bi-issued-tokens-table__body bi-table",children:[Object(I.jsx)("thead",{className:"bi-issued-tokens-table-header",children:Object(I.jsxs)("tr",{className:"bi-issued-tokens-table-header bi-issued-tokens-table__row bi-table__row",children:[Object(I.jsx)("th",{className:"bi-issued-tokens-table__cell bi-table__cell",colSpan:1,children:Object(I.jsx)(h.a,{id:"common.token.id"})}),Object(I.jsx)("th",{className:"bi-issued-tokens-table__cell bi-table__cell",colSpan:2,children:Object(I.jsx)(h.a,{id:"common.token.name"})}),Object(I.jsx)("th",{className:"bi-issued-tokens-table__cell bi-table__cell",colSpan:1,children:Object(I.jsx)(h.a,{id:"common.token.amount"})}),Object(I.jsx)("th",{className:"bi-issued-tokens-table__cell bi-table__cell",colSpan:1,children:Object(I.jsx)(h.a,{id:"common.token.decimals"})}),Object(I.jsx)("th",{className:"bi-issued-tokens-table__cell bi-table__cell",colSpan:3,children:Object(I.jsx)(h.a,{id:"common.token.description"})})]})}),Object(I.jsx)("tbody",{children:this.props.tokens.map((function(e){return Object(I.jsxs)(N.Link,{to:"/token/".concat(e.id),className:"bi-issued-tokens-table__row bi-table__row",children:[Object(I.jsxs)("td",{className:"bi-issued-tokens-table__cell bi-table__cell bi-tokens-table__cell",colSpan:1,children:[Object(I.jsx)("div",{className:"bi-issued-tokens-table__cell-name bi-tokens-table__cell-name",children:Object(I.jsx)(h.a,{id:"common.token.id"})}),Object(I.jsx)("input",{className:"bi-tokens-table__input",type:"text",value:e.id,readOnly:!0})]}),Object(I.jsxs)("td",{className:"bi-issued-tokens-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:2,children:[Object(I.jsx)("div",{className:"bi-issued-tokens-table__cell-name bi-tokens-table__cell-name",children:Object(I.jsx)(h.a,{id:"common.token.name"})}),e.name]}),Object(I.jsxs)("td",{className:"bi-issued-tokens-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:1,children:[Object(I.jsx)("div",{className:"bi-issued-tokens-table__cell-name bi-tokens-table__cell-name",children:Object(I.jsx)(h.a,{id:"common.token.amount"})}),Object(I.jsx)("input",{className:"bi-tokens-table__input",type:"text",value:y()({integerSeparator:" "})(e.emissionAmount),readOnly:!0})]}),Object(I.jsxs)("td",{className:"bi-issued-tokens-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:1,children:[Object(I.jsx)("div",{className:"bi-issued-tokens-table__cell-name bi-tokens-table__cell-name",children:Object(I.jsx)(h.a,{id:"common.token.decimals"})}),e.decimals]}),Object(I.jsxs)("td",{className:"bi-issued-tokens-table__cell bi-table__cell  bi-tokens-table__cell",colSpan:3,children:[Object(I.jsx)("div",{className:"bi-issued-tokens-table__cell-name bi-tokens-table__cell-name",children:Object(I.jsx)(h.a,{id:"common.token.description"})}),Object(I.jsx)("div",{children:Object(I.jsx)(M,{lines:2,children:e.description})})]})]},e.id)}))})]})}}]),n}(u.a.Component)),Q=(n(662),function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;Object(s.a)(this,n),(i=t.call(this,e)).params=void 0,i.updateTable=Object(_.debounce)((function(e){var t=b.a.parse(i.props.history.location.search);i.props.history.push("/issued-tokens?".concat(b.a.stringify({searchQuery:e,limit:t.limit})))}),300),i.onChangeInput=function(e){i.setState({searchInput:e.target.value}),i.updateTable(e.target.value)},i.renderTable=function(){return i.props.tokens.isFetching?Object(I.jsx)("p",{className:"base-text",children:"Fetching Data..."}):i.props.tokens.data&&0===i.props.tokens.data.total?Object(I.jsx)("div",{className:"bi-issued-tokens__body g-flex-column__item-fixed",children:Object(I.jsx)(h.a,{id:"components.data.wrong-query"})}):!i.props.tokens.isFetching&&null!==i.props.tokens.data&&i.props.tokens.data.items.length>0?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"bi-issued-tokens__body g-flex-column__item-fixed",children:Object(I.jsx)(F,{tokens:i.props.tokens.data.items,isFetching:i.props.tokens.isFetching})}),Object(I.jsxs)("div",{className:"bi-issued-tokens__footer g-flex-column__item-fixed g-flex",children:[Object(I.jsx)("div",{className:"g-flex__item-fixed",children:Object(I.jsx)(g.a,{items:[30,60,120],selected:i.params.limit,label:Object(I.jsx)(h.a,{id:"components.data.show"}),getLimitLink:i.getLimitLink})}),Object(I.jsx)("div",{className:"g-flex__item-fixed",children:Object(I.jsx)(O.a,{total:i.props.tokens.data.total,limit:i.params.limit,getPageUrl:i.getPageUrl,forcePage:Math.floor(i.props.offset/i.params.limit)})})]})]}):void 0},i.getPageUrl=i.getPageUrl.bind(Object(r.a)(i)),i.getLimitLink=i.getLimitLink.bind(Object(r.a)(i));var a=b.a.parse(i.props.history.location.search).searchQuery;return i.params=i.getParams(),i.state={searchInput:a||""},i}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.reloadTokens(this.params)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.getParams();JSON.stringify(t)!==JSON.stringify(this.params)&&(this.params=t,this.reloadTokens(this.params))}},{key:"render",value:function(){return Object(I.jsxs)("div",{className:"bi-issued-tokens g-flex-column g-flex-column__item-fixed",children:[Object(I.jsx)(h.a,{id:"common.pages.issued-tokens.title",children:function(e){return Object(I.jsx)(m.a,{children:Object(I.jsx)("title",{children:e})})}}),Object(I.jsxs)("div",{className:"bi-issued-tokens__header g-flex-column__item-fixed g-flex",children:[Object(I.jsx)("div",{className:"bi-issued-tokens__title",children:Object(I.jsx)(h.a,{id:"components.issued-tokens.title"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{className:"bi-issued-tokens__input",type:"string",onChange:this.onChangeInput,value:this.state.searchInput,placeholder:"Search by ID or Number"})})]}),this.renderTable()]})}},{key:"getPageUrl",value:function(e){var t=b.a.parse(this.props.history.location.search);return t.offset=e*this.params.limit,"/issued-tokens?".concat(b.a.stringify(t))}},{key:"getLimitLink",value:function(e){var t=b.a.parse(this.props.history.location.search);return t.limit=e,"/issued-tokens?".concat(b.a.stringify(t))}},{key:"reloadTokens",value:function(e){e=Object(i.a)(Object(i.a)(Object(i.a)({},this.params),e),{},{limit:e.limit||30,offset:e.offset||0,searchQuery:e.searchQuery}),Object.keys(e).forEach((function(t){null===e[t]&&delete e[t]})),this.props.getTokens(e),0===e.offset&&delete e.offset,30===e.limit&&delete e.limit,Object(_.isEmpty)(b.a.stringify(e))||this.props.history.push("/issued-tokens?".concat(b.a.stringify(e)))}},{key:"getParams",value:function(){var e=b.a.parse(this.props.history.location.search),t=e.offset,n=e.limit,i=b.a.parse(this.props.history.location.search).searchQuery;return t=parseInt(t,10),{limit:n=parseInt(n,10)||30,offset:t||0,searchQuery:i}}}]),n}(u.a.PureComponent)),R=Object(f.b)((function(e){return{tokens:Object(v.a)(e),offset:e.tokens.offset}}),(function(e){return Object(j.bindActionCreators)(Object(i.a)({},k.a),e)}))(Q);t.default=R}}]);
//# sourceMappingURL=15.57f04168.chunk.js.map