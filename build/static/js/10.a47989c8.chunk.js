(this["webpackJsonpblockchain-explorer"]=this["webpackJsonpblockchain-explorer"]||[]).push([[10],{261:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var a=s(11),i=s(12),n=s(16),c=s(15),r=s(0),o=s.n(r),l=s(18),d=s(1),b=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"bi-coin-value  u-word-wrap u-word-wrap--ellipsis",children:[this.getFormattedValue()," ",this.props.coinName?this.props.coinName:l.a.blockchain.coinName.toUpperCase()]})}},{key:"getFormattedValue",value:function(){var e=this.props.value/1e9;return e<1&&0!==e?e.toFixed(9).split("").reduceRight((function(e,t){return"0"===t&&0===e.length||e.push(t),e}),[]).reverse().join(""):e.toString()}}]),s}(o.a.PureComponent)},263:function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var a=s(11),i=s(12),n=s(16),c=s(15),r=s(262),o=s.n(r),l=s(0),d=s.n(l),b=(s(265),s(1)),m=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){var e=o()(this.props.timestamp);return this.props.vertical?Object(b.jsxs)("div",{className:"bi-timestamp u-word-wrap u-word-wrap--ellipsis bi-timestamp--vertical",children:[Object(b.jsx)("span",{className:"bi-timestamp__time",children:e.format("HH:mm:ss")}),Object(b.jsx)("span",{className:"bi-timestamp__date",children:e.format("DD.MM.YYYY")})]}):Object(b.jsxs)("div",{className:"bi-timestamp u-word-wrap u-word-wrap--ellipsis",children:[Object(b.jsx)("span",{className:"bi-timestamp__time",children:e.format("HH:mm:ss")}),Object(b.jsx)("span",{className:"bi-timestamp__date",children:e.format("DD.MM.YYYY")})]})}}]),s}(d.a.PureComponent)},265:function(e,t,s){},271:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var a=s(11),i=s(12),n=s(16),c=s(15),r=s(0),o=s.n(r),l=s(7),d=s(26),b=(s(272),s(9)),m=s(1),p=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){return Object(a.a)(this,s),t.call(this,e)}return Object(i.a)(s,[{key:"render",value:function(){var e=Math.ceil(this.props.total/this.props.limit);return e?Object(m.jsxs)("div",{className:"bi-paginate-simple",children:[0===this.props.forcePage?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(b.l,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(d.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",to:this.props.getPageUrl(0),children:Object(m.jsx)(b.l,{className:"bi-paginate-simple__btn-icon"})}),0===this.props.forcePage?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(b.b,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(d.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--prev bi-btn--flat",to:this.props.getPageUrl(this.props.forcePage-1),children:Object(m.jsx)(b.b,{className:"bi-paginate-simple__btn-icon"})}),Object(m.jsx)("span",{className:"bi-paginate-simple__status",children:Object(m.jsx)(l.a,{id:"components.paginate-simple.page-of",values:{current:this.props.forcePage+1,total:e}})}),Object(m.jsx)("span",{className:"bi-paginate-simple__status bi-paginate-simple__status--mobile",children:Object(m.jsx)(l.a,{id:"components.paginate-simple.page",values:{current:this.props.forcePage+1}})}),this.props.forcePage===e-1?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(b.b,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(d.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn--flat",to:this.props.getPageUrl(this.props.forcePage+1),children:Object(m.jsx)(b.b,{className:"bi-paginate-simple__btn-icon"})}),this.props.forcePage===e-1?Object(m.jsx)("button",{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn bi-btn--flat",disabled:!0,children:Object(m.jsx)(b.l,{className:"bi-paginate-simple__btn-icon"})}):Object(m.jsx)(d.Link,{className:"bi-paginate-simple__btn bi-paginate-simple__btn--next bi-btn--flat",to:this.props.getPageUrl(e-1),children:Object(m.jsx)(b.l,{className:"bi-paginate-simple__btn-icon"})})]}):null}}]),s}(o.a.Component)},272:function(e,t,s){},274:function(e,t,s){"use strict";s.d(t,"a",(function(){return _}));var a=s(11),i=s(12),n=s(16),c=s(15),r=s(0),o=s.n(r),l=s(7),d=s(90),b=s.n(d),m=s(49),p=s.n(m),u=s(26),j=s(9),h=(s(281),s(1)),_=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){var e=this.props.title;return Object(h.jsxs)(b.a,{className:"bi-address-issued-tokens-modal bi-modal bi-modal--scale",overlayClassName:"bi-modal-overlay",isOpen:this.props.isOpen,onRequestClose:this.props.onClose,children:[Object(h.jsx)("button",{className:"bi-modal__btn-close",onClick:this.props.onClose,children:Object(h.jsx)(j.k,{className:"bi-modal__btn-close-icon"})}),Object(h.jsx)("div",{className:"bi-address-issued-tokens-modal__table-header",children:e||"Address tokens"}),Object(h.jsx)("div",{className:"bi-address-issued-tokens-modal__container",children:Object(h.jsx)("div",{className:"bi-address-issued-tokens-modal__table-body bi-table",children:this.props.issuedTokens&&this.props.issuedTokens.map((function(e,t){return Object(h.jsxs)("div",{className:"bi-address-issued-tokens-modal__row bi-table__row",children:[Object(h.jsx)(u.Link,{to:"/token/".concat(e.tokenId),className:"bi-address-issued-tokens-modal__cell bi-table__cell bi-address-issued-tokens-modal__cell--token-id",children:Object(h.jsx)(l.a,{id:e.name||e.tokenId})}),Object(h.jsx)("div",{className:"bi-address-issued-tokens-modal__cell bi-table__cell bi-address-issued-tokens-modal__cell--amount",children:p()({integerSeparator:" "})(e.decimals>0?e.amount/Math.pow(10,e.decimals):e.amount)})]},"".concat(Math.random()," - ").concat(t))}))})})]})}}]),s}(o.a.PureComponent)},275:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var a=s(11),i=s(12),n=s(19),c=s(16),r=s(15),o=s(38),l=s.n(o),d=s(0),b=s.n(d),m=s(274),p=(s(283),s(1)),u=function(e){Object(c.a)(s,e);var t=Object(r.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).state={isDropdownShown:!1},i.toggleDropdown=i.toggleDropdown.bind(Object(n.a)(i)),i}return Object(i.a)(s,[{key:"render",value:function(){var e=this.props,t=e.list,s=e.button,a=l()({"bi-dropdown-list":!0});return Object(p.jsxs)("div",{className:a,children:[Object(p.jsx)("button",{className:"bi-dropdown-list__button g-flex bi-btn bi-btn--flat",onClick:this.toggleDropdown,children:Object(p.jsx)("span",{className:"bi-dropdown-list__button-label",children:s})}),this.state.isDropdownShown&&Object(p.jsx)(m.a,{isOpen:this.state.isDropdownShown,onClose:this.toggleDropdown,title:"Tokens",issuedTokens:t}),Object(p.jsx)("ul",{className:"bi-dropdown-list__dropdown",children:t.map((function(e,t){return Object(p.jsxs)("li",{className:"bi-dropdown-list__option",children:[Object(p.jsx)("span",{children:e.value}),"\xa0",e.label]},"".concat(e.value,"_").concat(t,"_").concat(e.label))}))})]})}},{key:"toggleDropdown",value:function(){this.setState({isDropdownShown:!this.state.isDropdownShown})}}]),s}(b.a.PureComponent)},281:function(e,t,s){},282:function(e,t,s){"use strict";s.d(t,"a",(function(){return x}));var a=s(3),i=s(11),n=s(12),c=s(16),r=s(15),o=s(0),l=s.n(o),d=s(7),b=s(25),m=s(26),p=s(261),u=s(263),j=s(275),h=s(9),_=(s(284),s(1)),O=function(e){Object(c.a)(s,e);var t=Object(r.a)(s);function s(){var e;Object(i.a)(this,s);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={isClient:!1},e.getAddressInputs=function(){return e.props.transaction.inputs.reduce((function(t,s){var a=s.address,i=s.value;return a===e.props.address?t+i:t}),0)},e.getAddressOutputs=function(){return e.props.transaction.outputs.reduce((function(t,s){var a=s.address,i=s.value;return a===e.props.address?t+i:t}),0)},e.getTransactionState=function(){var t=e.getAddressInputs(),s=e.getAddressOutputs();return 0!==s&&s-t>0?"input":"output"},e}return Object(n.a)(s,[{key:"componentDidMount",value:function(){this.setState({isClient:!0,isShowMoreInputs:!1,isShowMoreOutputs:!1})}},{key:"renderAssets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return null;var t=e.map((function(e){var t=e.amount;return{label:e.tokenId.substr(0,4),value:t}})),s="+".concat(t.length);return Object(_.jsxs)(_.Fragment,{children:["\xa0",Object(_.jsx)(j.a,{list:e,button:s})]})}},{key:"render",value:function(){var e=this,t=this.props.transaction,s=this.state,a=s.isShowMoreInputs,i=s.isShowMoreOutputs,n=0,c=this.getAddressInputs(),r=this.getAddressOutputs(),o="output"===this.getTransactionState(),l=a?t.inputs:t.inputs.slice(0,5),b=i?t.outputs:t.outputs.slice(0,5);return Object(_.jsxs)("div",{className:"bi-transactions-item",children:[Object(_.jsxs)("div",{className:"bi-transactions-item__header g-flex",children:[Object(_.jsx)(m.Link,{className:"bi-transactions-item__title u-word-wrap g-flex__item-fixed",to:"/transactions/".concat(this.props.transaction.id),children:this.props.transaction.id}),Object(_.jsx)("div",{className:"bi-transactions-item__timestamp g-flex__item-fixed",children:Object(_.jsx)(u.a,{timestamp:this.props.transaction.creationTimestamp||this.props.transaction.timestamp})})]}),Object(_.jsxs)("div",{className:"bi-transactions-item__body g-flex",children:[Object(_.jsx)("div",{className:"bi-transactions-item__inputs g-flex__item",children:l.map((function(t,s){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"bi-transactions-item__input g-flex",children:[Object(_.jsx)("div",{className:"bi-transactions-item__address",children:t.address?Object(_.jsx)(m.Link,{className:"u-word-wrap u-word-wrap--ellipsis",to:"/addresses/".concat(t.address),children:t.address}):Object(_.jsx)(d.a,{id:"components.transaction-item.null-address"})}),e.props.isScriptsDisplayed&&t.outputTransactionId&&Object(_.jsxs)("div",{className:"bi-transactions-item__address-output g-flex g-flex__item-fixed",children:["(",Object(_.jsx)(p.a,{value:t.value}),t.assets?e.renderAssets(t.assets):"","\xa0-\xa0",Object(_.jsx)(m.Link,{to:"/transactions/".concat(t.outputTransactionId),children:Object(_.jsx)(d.a,{id:"components.transaction-item.address-output"})}),")"]})]},"".concat(s,"__").concat(t.id)),4===s&&Object(_.jsx)("div",{className:"bi-transactions-item__link",onClick:function(){return e.setState({isShowMoreInputs:!a})},children:Object(_.jsx)("a",{children:a?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(d.a,{id:"components.transaction-item.show-less"}),Object(_.jsx)(h.h,{className:"bi-transactions-item__rotated-icon"})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(d.a,{id:"components.transaction-item.show-more"}),Object(_.jsx)(h.h,{})]})})})]})}))}),this.props.address?Object(_.jsx)("div",{className:["bi-transactions-item__arrow",o?"bi-transactions-item__arrow--output":"bi-transactions-item__arrow--input"].join(" "),children:Object(_.jsx)(h.d,{className:"bi-transactions-item__arrow-icon"})}):Object(_.jsx)("div",{className:"bi-transactions-item__arrow",children:Object(_.jsx)(h.d,{className:"bi-transactions-item__arrow-icon"})}),Object(_.jsxs)("div",{className:"bi-transactions-item__outputs g-flex__item g-flex-column",children:[b.map((function(t,s){return n+=t.value,Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"bi-transactions-item__output g-flex",children:[Object(_.jsx)("div",{className:"bi-transactions-item__address g-flex__item-fixed",children:t.address?Object(_.jsx)(m.Link,{className:"u-word-wrap u-word-wrap--ellipsis",to:"/addresses/".concat(t.address),children:t.address}):Object(_.jsx)("span",{className:"u-word-wrap u-word-wrap--ellipsis",children:Object(_.jsx)(d.a,{id:"components.transaction-item.null-address"})})}),Object(_.jsx)("div",{className:"bi-transactions-item__address-spent g-flex__item u-word-wrap u-word-wrap--ellipsis",style:{display:e.props.isScriptsDisplayed||!e.state.isClient?"block":"none"},children:t.spentTransactionId?Object(_.jsx)(m.Link,{to:"/transactions/".concat(t.spentTransactionId),children:Object(_.jsx)(d.a,{id:"components.transaction-item.spent"})}):Object(_.jsx)(d.a,{id:"components.transaction-item.unspent"})}),Object(_.jsxs)("div",{className:"bi-transactions-item__value g-flex__item-fixed",children:[Object(_.jsx)(p.a,{value:t.value}),e.renderAssets(t.assets)]})]},"".concat(s,"__").concat(t.id)),4===s&&Object(_.jsx)("div",{className:"bi-transactions-item__link",onClick:function(){return e.setState({isShowMoreOutputs:!i})},children:Object(_.jsx)("a",{children:i?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(d.a,{id:"components.transaction-item.show-less"}),Object(_.jsx)(h.h,{className:"bi-transactions-item__rotated-icon"})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(d.a,{id:"components.transaction-item.show-more"}),Object(_.jsx)(h.h,{})]})})})]})})),Object(_.jsxs)("div",{className:"bi-transactions-item__footer g-flex-column__item-fixed g-flex",children:[this.props.confirmations>0&&Object(_.jsxs)("div",{className:"bi-transactions-item__confirmations g-flex__item-fixed",children:[this.props.confirmations," ",Object(_.jsx)(d.b,{value:this.props.confirmations,one:Object(_.jsx)(d.a,{id:"components.transaction-item.confirmation.one"}),other:Object(_.jsx)(d.a,{id:"components.transaction-item.confirmation.other"})})]}),!this.props.confirmations&&Object(_.jsx)("div",{className:"bi-transactions-item__confirmations g-flex__item-fixed item__confirmations--unconfirmed",children:Object(_.jsx)(d.a,{id:"components.transaction-item.unconfirmed"})}),Object(_.jsx)("div",{className:["bi-transactions-item__total-value g-flex__item-fixed",this.props.address&&(o?"bi-transactions-item__total-value--output":"bi-transactions-item__total-value--input")].join(" "),children:Object(_.jsx)(p.a,{value:this.props.address?Math.abs(r-c):n})})]})]})]})]})}}]),s}(l.a.Component);var x=Object(b.b)((function(e,t){return Object(a.a)(Object(a.a)({},e.settings),t)}))(O)},283:function(e,t,s){},284:function(e,t,s){},311:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var a=s(11),i=s(12),n=s(16),c=s(15),r=s(0),o=s.n(r),l=s(282),d=(s(312),s(1)),b=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{className:"bi-transactions",children:this.props.transactions.map((function(t){return Object(d.jsx)(l.a,{transaction:t,address:e.props.address,confirmations:t.numConfirmations||t.confirmationsCount},t.id)}))})}}]),s}(o.a.PureComponent)},312:function(e,t,s){},345:function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var a=s(61),i=s(307),n=s.n(i),c=s(59),r=s(309),o=s(11),l=s(12),d=s(47),b=s(33),m=s.n(b),p=s(18),u=s(88),j=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"apiUrl",get:function(){return"".concat(p.a.apiUrl,"/addresses")}},{key:"getAddress",value:function(e){return m.a.get("".concat(p.a.apiUrlV1,"/addresses/").concat(e,"/balance/total")).then((function(t){return t?t.data:Promise.reject("Address api service. Request: ".concat(p.a.apiUrlV1,"/addresses/").concat(e,"/balance/total."))}))}},{key:"getConfirmed",value:function(e,t){return m.a.get("".concat(p.a.apiUrlV1,"/addresses/").concat(e,"/transactions"),{params:t}).then((function(t){return t?t.data:Promise.reject("Address api service. Request: ".concat(p.a.apiUrlV1,"/addresses/").concat(e,"/transactions."))}))}},{key:"getUnconfirmed",value:function(e,t){return m.a.get("".concat(p.a.apiUrlV1,"/mempool/transactions/byAddress/").concat(e),{params:t}).then((function(t){return t?t.data:Promise.reject("Address api service. Request: ".concat(p.a.apiUrlV1,"/mempool/transactions/byAddress/").concat(e))}))}},{key:"getAddressTransactions",value:function(){var e=Object(r.a)(n.a.mark((function e(t,s){var a,i,r,o,l,d,b;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.offset,i=s.limit,e.next=3,this.getUnconfirmed(t,{offset:a,limit:i});case 3:if(!(0===(r=e.sent).total||r.total<a)){e.next=9;break}return e.next=7,this.getConfirmed(t,{offset:a-r.total,limit:i});case 7:return o=e.sent,e.abrupt("return",{items:o.items,total:r.total+o.total});case 9:if(!(r.items.length<i)){e.next=15;break}return l=i-r.items.length,e.next=13,this.getConfirmed(t,{offset:0,limit:l});case 13:return d=e.sent,e.abrupt("return",{items:[].concat(Object(c.a)(r.items),Object(c.a)(d.items)),total:r.total+d.total});case 15:return e.next=17,this.getConfirmed(t,{offset:0,limit:1});case 17:return b=e.sent,e.abrupt("return",{items:Object(c.a)(r.items),total:r.total+b.total});case 19:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"getAddressesBalances",value:function(e){return Object(u.a)(d.a,{method:"get",url:"".concat(p.a.apiUrl,"/addresses/balances?limit=100")},{dispatch:e})}}]),e}(),h={getAddress:function(e){return function(t){t({type:a.a}),j.getAddress(e).then((function(e){t({payload:{data:e},type:a.b})}))}},getAddressTransactions:function(e,t){return function(s){s({type:a.c}),j.getAddressTransactions(e,t).then((function(e){s({payload:{data:e},type:a.d})}))}},getAddressesBalances:function(){return function(e){return j.getAddressesBalances(e)}}}},358:function(e,t,s){},432:function(e,t,s){},438:function(e,t,s){},439:function(e,t,s){},440:function(e,t,s){},441:function(e,t,s){},693:function(e,t,s){"use strict";s.r(t);var a=s(3),i=s(11),n=s(12),c=s(19),r=s(16),o=s(15),l=s(58),d=s.n(l),b=s(0),m=s.n(b),p=s(67),u=s.n(p),j=s(7),h=s(25),_=s(21),O=s(18),x=(s(432),s(32)),f=s(345),v=s(95),g=s(9),N=s(310),y=s.n(N),k=s(90),w=s.n(k),C=(s(438),s(1)),q=function(e){Object(r.a)(s,e);var t=Object(o.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"render",value:function(){return Object(C.jsxs)(w.a,{className:"bi-address-qrcode-modal bi-modal bi-modal--scale",overlayClassName:"bi-modal-overlay",closeTimeoutMS:150,isOpen:this.props.isOpen,onRequestClose:this.props.onClose,children:[Object(C.jsx)("button",{className:"bi-modal__btn-close",onClick:this.props.onClose,children:Object(C.jsx)(g.k,{className:"bi-modal__btn-close-icon"})}),Object(C.jsxs)("div",{className:"bi-address-qrcode-modal__title",children:[Object(C.jsx)(j.a,{id:"components.address-qr-code-modal.title"}),Object(C.jsx)("div",{className:"bi-address-qrcode-modal__subtitle",children:Object(C.jsx)(j.a,{id:"components.address-qr-code-modal.subtitle"})})]}),Object(C.jsx)(y.a,{value:this.props.address,size:164})]})}}]),s}(m.a.PureComponent),S=(s(358),"isQrCodeModalOpened"),A=function(e){Object(r.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state=Object(v.a)({},S,!1),a.openModal=a.openModal.bind(Object(c.a)(a)),a.closeModal=a.closeModal.bind(Object(c.a)(a)),a}return Object(n.a)(s,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"bi-address-actions g-flex",children:[Object(C.jsx)("div",{className:"bi-address-actions__item g-flex__item-fixed",children:Object(C.jsxs)("button",{className:"bi-address-actions__btn bi-btn",onClick:this.openModal(S),children:[Object(C.jsx)(j.a,{id:"components.address-actions.qrcode"}),Object(C.jsx)(g.A,{className:"bi-address-actions__btn-icon"})]})}),Object(C.jsx)(q,{isOpen:this.state.isQrCodeModalOpened,onClose:this.closeModal(S),address:this.props.addressId})]})}},{key:"openModal",value:function(e){var t=this;return function(){t.setState(Object(v.a)({},e,!0))}}},{key:"closeModal",value:function(e){var t=this;return function(){t.setState(Object(v.a)({},e,!1))}}}]),s}(m.a.Component),M=s(4);function P(e,t){var s=e.toString();return s=s.slice(0,s.indexOf(".")+t+1),Number(s)}s(439);var T=function(e){Object(r.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).link=void 0,a.state={amount:0,copied:!1,description:""},a.setAmount=a.setAmount.bind(Object(c.a)(a)),a.setDescription=a.setDescription.bind(Object(c.a)(a)),a.copyLinkToClipboard=a.copyLinkToClipboard.bind(Object(c.a)(a)),a.selectLink=a.selectLink.bind(Object(c.a)(a)),a}return Object(n.a)(s,[{key:"render",value:function(){var e=this,t=this.getLink();return Object(C.jsxs)(w.a,{className:"bi-payment-request-modal bi-modal bi-modal--scale g-scroll-y",overlayClassName:"bi-modal-overlay",closeTimeoutMS:150,isOpen:this.props.isOpen,onRequestClose:this.props.onClose,children:[Object(C.jsx)("button",{className:"bi-modal__btn-close",onClick:this.props.onClose,children:Object(C.jsx)(g.k,{className:"bi-modal__btn-close-icon"})}),Object(C.jsxs)("div",{className:"bi-payment-request-modal__title",children:[Object(C.jsx)(j.a,{id:"components.payment-request-modal.title"}),Object(C.jsx)("div",{className:"bi-payment-request-modal__subtitle",children:Object(C.jsx)(j.a,{id:"components.payment-request-modal.subtitle"})})]}),Object(C.jsxs)("div",{className:"bi-payment-request-modal__form",children:[Object(C.jsxs)("label",{className:"bi-payment-request-modal__form-item g-flex",children:[Object(C.jsx)("span",{className:"bi-payment-request-modal__label g-flex__item-fixed",children:Object(C.jsx)(j.a,{id:"components.payment-request-modal.amount"})}),Object(C.jsxs)("div",{className:"bi-payment-request-modal__input-wrapper g-flex__item",children:[Object(C.jsx)("input",{className:"bi-payment-request-modal__input",type:"number",onChange:this.setAmount,min:0}),Object(C.jsx)("span",{className:"bi-payment-request-modal__input-currency",children:O.a.blockchain.coinName.toUpperCase()})]})]}),Object(C.jsxs)("label",{className:"bi-payment-request-modal__form-item g-flex",children:[Object(C.jsx)("span",{className:"bi-payment-request-modal__label bi-payment-request-modal__label--line",children:Object(C.jsx)(j.a,{id:"components.payment-request-modal.description"})}),Object(C.jsx)("div",{className:"bi-payment-request-modal__input-wrapper g-flex__item",children:Object(C.jsx)("textarea",{className:"bi-payment-request-modal__input bi-payment-request-modal__input--textarea",onChange:this.setDescription})})]})]}),Object(C.jsxs)("div",{className:"bi-payment-request-modal__result g-flex",children:[Object(C.jsx)("div",{className:"g-flex__item-fixed bi-payment-request-modal__qrcode",children:Object(C.jsx)(y.a,{value:t,size:156})}),Object(C.jsxs)("div",{className:"g-flex__item-fixed bi-payment-request-modal__link g-flex-column",children:[Object(C.jsxs)("div",{className:"bi-payment-request-modal__link-header g-flex-column__item-fixed",children:[Object(C.jsx)(j.a,{id:"components.payment-request-modal.link"}),":"]}),Object(C.jsx)("div",{className:"bi-payment-request-modal__link-body u-word-wrap g-scroll-y g-flex-column__item",onClick:this.selectLink,ref:function(t){return e.link=t},children:t})]})]}),Object(C.jsx)("div",{className:"bi-payment-request-modal__footer g-flex-column__item g-flex",children:Object(C.jsx)("button",{className:"bi-payment-request-modal__btn-copy bi-btn bi-btn--flat",onClick:this.copyLinkToClipboard,children:this.state.copied?Object(C.jsx)(j.a,{id:"components.payment-request-modal.copied"}):Object(C.jsx)(j.a,{id:"components.payment-request-modal.copy"})})})]})}},{key:"getLink",value:function(){var e=d.a.stringify({address:this.props.address,amount:this.state.amount,description:this.state.description}),t=O.a.environments?O.a.environments[0].url:window.location.origin;return"".concat(t,"/payment-request?").concat(e)}},{key:"setAmount",value:function(e){this.setState({amount:P(e.target.value,9)})}},{key:"setDescription",value:function(e){this.setState({description:e.target.value})}},{key:"selectLink",value:function(){window.getSelection().selectAllChildren(this.link)}},{key:"copyLinkToClipboard",value:function(){var e=this;this.selectLink(),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.setState({copied:!0}),setTimeout((function(){e.setState({copied:!1})}),1e3)}}]),s}(m.a.PureComponent),I=Object(M.o)(T),U="isPaymentRequestModalOpened",D=function(e){Object(r.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).state=Object(v.a)({},U,!1),a.openModal=a.openModal.bind(Object(c.a)(a)),a.closeModal=a.closeModal.bind(Object(c.a)(a)),a}return Object(n.a)(s,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"bi-address-actions g-flex",children:[Object(C.jsx)("div",{className:"bi-address-actions__item g-flex__item-fixed",children:Object(C.jsx)("button",{className:"bi-address-actions__btn",onClick:this.openModal(U),children:Object(C.jsx)(j.a,{id:"components.address-actions.request-payment"})})}),Object(C.jsx)(I,{isOpen:this.state.isPaymentRequestModalOpened,onClose:this.closeModal(U),address:this.props.addressId})]})}},{key:"openModal",value:function(e){var t=this;return function(){t.setState(Object(v.a)({},e,!0))}}},{key:"closeModal",value:function(e){var t=this;return function(){t.setState(Object(v.a)({},e,!1))}}}]),s}(m.a.Component),L=function(e){Object(r.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).copyToClipboard=a.copyToClipboard.bind(Object(c.a)(a)),a}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return Object(C.jsxs)("span",{onClick:function(){e.props.onClick&&e.props.onClick(),e.copyToClipboard()},style:{cursor:"pointer",color:"rgb(0, 120, 255)",display:"inline-flex",alignItems:"center"},className:this.props.className,children:[!this.props.isNotShowIcon&&Object(C.jsx)("div",{style:{height:"16px"},children:Object(C.jsx)(g.j,{})}),Object(C.jsx)("a",{className:"bi-copy-text",style:{marginLeft:this.props.isNotShowIcon?0:"10px"},children:this.props.children})]})}},{key:"getTextContent",value:function(){return"string"===typeof this.props.children?this.props.children:"object"===typeof this.props.children?this.props.children.props.id:void 0}},{key:"copyToClipboard",value:function(){var e=this.getTextContent();if(e){var t=document.createElement("textarea");t.value=e||"",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}}]),s}(m.a.Component),F=s(54),R=(s(440),function(e){var t=Object(F.d)();return Object(C.jsxs)("div",{className:"bi-address-summary",children:[Object(C.jsx)("div",{className:"bi-address-summary__header",children:Object(C.jsx)(j.a,{id:"components.address-summary.title"})}),Object(C.jsx)("div",{className:"bi-address-summary__body bi-table",children:Object(C.jsxs)("div",{className:"bi-address-summary__row bi-table__row",children:[Object(C.jsx)("div",{className:"bi-address-summary__cell bi-address-summary__cell--header bi-table__cell",children:Object(C.jsx)(j.a,{id:"components.address-summary.hash"})}),Object(C.jsx)("div",{className:"bi-address-summary__cell bi-address-summary__cell--value bi-table__cell",children:Object(C.jsx)(L,{onClick:function(){return t.show(Object(C.jsx)("span",{style:{textTransform:"initial"},children:"Copied"}))},className:"u-word-wrap u-word-wrap--ellipsis",children:e.addressId})})]})})]})}),V=s(92),Y=(s(441),s(261)),B=s(274),H=function(e){var t,s,a=e.summary,i=e.total,n=Object(b.useState)(!1),c=Object(V.a)(n,2),r=c[0],o=c[1];return Object(C.jsxs)("div",{className:"bi-address-transactions",children:[Object(C.jsx)("div",{className:"bi-address-transactions__header",children:Object(C.jsx)(j.a,{id:"components.address-transactions.title"})}),Object(C.jsxs)("div",{className:"bi-address-transactions__body bi-table",children:[Object(C.jsxs)("div",{className:"bi-address-transactions__row bi-table__row",children:[Object(C.jsx)("div",{className:"bi-address-transactions__cell bi-address-transactions__cell--header bi-table__cell",children:Object(C.jsx)(j.a,{id:"components.address-transactions.confirmed"})}),Object(C.jsx)("div",{className:"bi-address-transactions__cell bi-table__cell",children:i})]}),Object(C.jsxs)("div",{className:"bi-address-transactions__row bi-table__row",children:[Object(C.jsx)("div",{className:"bi-address-transactions__cell bi-address-transactions__cell--header bi-table__cell",children:Object(C.jsx)(j.a,{id:"components.address-transactions.confirmedBalance"})}),Object(C.jsx)("div",{className:"bi-address-transactions__cell bi-table__cell",children:Object(C.jsx)(Y.a,{value:a.confirmed.nanoErgs})})]}),Object(C.jsxs)("div",{className:"bi-address-transactions__row bi-table__row",children:[Object(C.jsx)("div",{className:"bi-address-transactions__cell bi-address-transactions__cell--header bi-table__cell",children:Object(C.jsx)(j.a,{id:"components.address-transactions.tokens"})}),Object(C.jsx)("div",{className:"bi-address-transactions__cell bi-table__cell",children:(null===(t=a.confirmed.tokens)||void 0===t?void 0:t.length)?Object(C.jsx)("button",{className:"bi-address-actions__btn bi-btn",onClick:function(){return o(!0)},children:Object(C.jsx)(j.a,{id:"components.address-transactions.show"})}):"None"})]})]}),0!==(null===(s=a.confirmed.tokens)||void 0===s?void 0:s.length)&&Object(C.jsxs)("div",{className:"bi-address-issued-tokens__btn-container g-flex",children:[Object(C.jsx)("div",{className:"bi-address-issued-tokens__item g-flex__item-fixed"}),Object(C.jsx)(B.a,{isOpen:r,onClose:function(){return o(!1)},issuedTokens:a.confirmed.tokens})]})]})},J=s(271),E=s(311),z=function(e){Object(r.a)(s,e);var t=Object(o.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).params=void 0,a.params=a.getParams(),a.getPageUrl=a.getPageUrl.bind(Object(c.a)(a)),a}return Object(n.a)(s,[{key:"componentDidMount",value:function(){var e=this.props,t=e.preloaded,s=e.clearPreloadedState,a=e.getAddress,i=e.getAddressTransactions,n=e.match.params.id;t?s():(a(n),i(n,this.params))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.getParams();if(this.props.match.params.id!==e.match.params.id)return this.params=t,this.props.getAddress(e.match.params.id),void this.props.getAddressTransactions(e.match.params.id,this.params);JSON.stringify(t)!==JSON.stringify(this.params)&&(this.params=t,this.props.getAddressTransactions(this.props.match.params.id,this.params))}},{key:"render",value:function(){return Object(C.jsxs)("div",{className:"bi-address g-flex-column__item-fixed",children:[Object(C.jsx)("div",{className:"bi-address__header",children:Object(C.jsx)("div",{className:"bi-address__title",children:Object(C.jsx)(j.a,{id:"components.address.title",values:{coinName:O.a.blockchain.coinName.toUpperCase()}})})}),this.renderBody()]})}},{key:"renderBody",value:function(){var e=this.props,t=e.match,s=e.address,a=e.transactions;return this.props.fetching?Object(C.jsx)("p",{className:"bi-address__fetching-text",children:"Fetching data..."}):!s||this.props.fetching?null:Object(C.jsxs)("div",{className:"bi-address__body",children:[Object(C.jsx)(j.a,{id:"common.pages.address.title",values:{id:t.params.id},children:function(e){return Object(C.jsx)(u.a,{children:Object(C.jsx)("title",{children:e})})}}),Object(C.jsxs)("div",{className:"bi-address__tables g-flex",children:[Object(C.jsxs)("div",{className:"bi-address__table g-flex__item",children:[Object(C.jsx)(R,{addressId:t.params.id}),Object(C.jsx)(A,{addressId:t.params.id})]}),Object(C.jsxs)("div",{className:"bi-address__table g-flex__item",children:[Object(C.jsx)(H,{summary:s,total:(null===a||void 0===a?void 0:a.total)||0}),Object(C.jsx)(D,{addressId:t.params.id})]})]}),a&&Object(C.jsxs)("div",{className:"bi-address__transactions",children:[!this.props.transactionFetching&&Object(C.jsx)(E.a,{transactions:a.items,address:t.params.id}),Object(C.jsx)("div",{className:"bi-address__transactions-footer g-flex",children:Object(C.jsx)(J.a,{total:a.total,limit:this.params.limit,getPageUrl:this.getPageUrl,forcePage:Math.floor(this.params.offset/this.params.limit)})})]})]})}},{key:"getPageUrl",value:function(e){var t=d.a.parse(this.props.history.location.search);return t.offset=e*this.params.limit,"".concat(this.props.location.pathname,"?").concat(d.a.stringify(t))}},{key:"getParams",value:function(){var e=d.a.parse(this.props.history.location.search),t=e.offset,s=e.limit;return t=parseInt(t,10),{limit:s=parseInt(s,10)||30,offset:t||0}}}]),s}(m.a.PureComponent);t.default=Object(h.b)((function(e){return e.address}),(function(e){return Object(_.bindActionCreators)(Object(a.a)(Object(a.a)({},f.a),x.a),e)}))(z)}}]);
//# sourceMappingURL=10.a47989c8.chunk.js.map